<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Linux学习笔记(一) | bibibi的小站</title><meta name="keywords" content="工具,Linux"><meta name="author" content="遗世雨"><meta name="copyright" content="遗世雨"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="Linux 基础知识  概述 文件系统 命令行工具 进程管理 网络管理 系统管理 包管理系统(主 Debian 系)">
<meta property="og:type" content="article">
<meta property="og:title" content="Linux学习笔记(一)">
<meta property="og:url" content="http://yishiyu.github.io/2020/09/14/Linux%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0(%E4%B8%80)/index.html">
<meta property="og:site_name" content="bibibi的小站">
<meta property="og:description" content="Linux 基础知识  概述 文件系统 命令行工具 进程管理 网络管理 系统管理 包管理系统(主 Debian 系)">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://img.yishiyu.world/blogs/cover/post/20210208/003.jpg">
<meta property="article:published_time" content="2020-09-14T14:00:48.000Z">
<meta property="article:modified_time" content="2021-02-09T03:13:27.605Z">
<meta property="article:author" content="遗世雨">
<meta property="article:tag" content="工具">
<meta property="article:tag" content="Linux">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://img.yishiyu.world/blogs/cover/post/20210208/003.jpg"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://yishiyu.github.io/2020/09/14/Linux%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0(%E4%B8%80)/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//fonts.googleapis.com" crossorigin=""/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web&amp;display=swap" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁体","msgToSimplifiedChinese":"简体"},
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: true,
    post: true
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: {"limitCount":50,"languages":{"author":"作者: 遗世雨","link":"链接: ","source":"来源: bibibi的小站","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。"}},
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"你已切换为繁体","cht_to_chs":"你已切换为简体","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#49b1f5","bgDark":"#2d3035","position":"bottom-left"},
  source: {
    jQuery: 'https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js',
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
    },
    fancybox: {
      js: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js',
      css: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css'
    }
  },
  isPhotoFigcaption: true,
  islazyload: false,
  isanchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = { 
  isPost: true,
  isHome: false,
  isHighlightShrink: true,
  isToc: true,
  postUpdate: '2021-02-09 11:13:27'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const fontSizeVal = saveToLocal.get('global-font-size')
    if (fontSizeVal !== undefined) {
      document.documentElement.style.setProperty('--global-font-size', fontSizeVal + 'px')
    }
    })(window)</script><meta name="generator" content="Hexo 5.3.0"></head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">加载中...</div></div></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="author-avatar"><img class="avatar-img" src="/img/Hiki.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data"><div class="data-item is-center"><div class="data-item-link"><a href="/archives/"><div class="headline">文章</div><div class="length-num">34</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/tags/"><div class="headline">标签</div><div class="length-num">19</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/categories/"><div class="headline">分类</div><div class="length-num">5</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('http://img.yishiyu.world/blogs/cover/post/20210208/003.jpg')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">bibibi的小站</a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">Linux学习笔记(一)</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2020-09-14T14:00:48.000Z" title="发表于 2020-09-14 22:00:48">2020-09-14</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2021-02-09T03:13:27.605Z" title="更新于 2021-02-09 11:13:27">2021-02-09</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">学习笔记</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">9.1k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>30分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="Linux-基础知识"><a href="#Linux-基础知识" class="headerlink" title="Linux 基础知识"></a>Linux 基础知识</h1><blockquote>
<ol>
<li>概述</li>
<li>文件系统</li>
<li>命令行工具</li>
<li>进程管理</li>
<li>网络管理</li>
<li>系统管理</li>
<li>包管理系统(主 Debian 系)</li>
</ol>
</blockquote>
<a id="more"></a>
<h2 id="1-概述"><a href="#1-概述" class="headerlink" title="1. 概述"></a>1. 概述</h2><h3 id="1-1-概述"><a href="#1-1-概述" class="headerlink" title="1.1 概述"></a>1.1 概述</h3><p>参考书籍:<br>&lt;&lt;鸟哥的 Linux 私房菜-基础篇&gt;&gt;<br>&lt;&lt;\Linux 就该这么学&gt;&gt;<br>&lt;&lt;精通 Linux&gt;&gt;</p>
<p>参考网站:<br><a target="_blank" rel="noopener" href="https://www.runoob.com/linux/linux-command-manual.html">[Linux 命令 | 菜鸟教程]</a></p>
<p>没有仔细看硬盘的操作(一般用不到)<br>双系统的分区等直接在 Windows 上完成…<br>服务器上的硬盘分区也不用手动完成…</p>
<p>所列命令仅列出最基本的形式,更详细的内容可以参考第二章的帮助手册使用方法,自行查找 man pages</p>
<h3 id="1-2-Linux-文件系统结构"><a href="#1-2-Linux-文件系统结构" class="headerlink" title="1.2 Linux 文件系统结构"></a>1.2 Linux 文件系统结构</h3><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">/目录</th>
<th style="text-align:left">作用</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">/</td>
<td style="text-align:left">根目录</td>
</tr>
<tr>
<td style="text-align:left">├── bin</td>
<td style="text-align:left">binary,可执行文件目录,大部分基础 Linux 命令(如/bin/bash)</td>
</tr>
<tr>
<td style="text-align:left">├── boot</td>
<td style="text-align:left">内核启动加载文件,存放 Linux 在第一次启动时的信息,之后的信息不在这里</td>
</tr>
<tr>
<td style="text-align:left">├── dev</td>
<td style="text-align:left">device,设备文件(Linux 把设备当做一个文件看待)</td>
</tr>
<tr>
<td style="text-align:left">├── etc</td>
<td style="text-align:left">etcetera,存放重要的系统配置文件,如密码文件等(X11 目录中是显卡和视窗设置文件)</td>
</tr>
<tr>
<td style="text-align:left">├── lib</td>
<td style="text-align:left">library,各种代码库(一般只有共享库(动态库),/usr/lib 中同时有静态库和共享库)</td>
</tr>
<tr>
<td style="text-align:left">├── lost+found</td>
<td style="text-align:left">当文件系统发生错误时， 将一些遗失的片段放置到这个目录下</td>
</tr>
<tr>
<td style="text-align:left">├── media</td>
<td style="text-align:left">加载可移除设备的地方,比如移动硬盘,U 盘等</td>
</tr>
<tr>
<td style="text-align:left">├── mnt</td>
<td style="text-align:left">mount,让用户临时挂载其他的文件系统的地方</td>
</tr>
<tr>
<td style="text-align:left">├── opt</td>
<td style="text-align:left">option,名称为可选目录,有些系统并没有这个目录,存放第三方软件</td>
</tr>
<tr>
<td style="text-align:left">├── proc</td>
<td style="text-align:left">process,包含当前正在运行的进程信息及一些内核参数</td>
</tr>
<tr>
<td style="text-align:left">├── root</td>
<td style="text-align:left">root 用户的家目录,存放其配置等文件</td>
</tr>
<tr>
<td style="text-align:left">├── run</td>
<td style="text-align:left">系统运行时需要的文件, 不能随便删除.重启时会删除,下次开机时重新生成</td>
</tr>
<tr>
<td style="text-align:left">├── sbin</td>
<td style="text-align:left">superuser binary,root 用户工具程序文件</td>
</tr>
<tr>
<td style="text-align:left">├── snap</td>
<td style="text-align:left">snap 是 Ubuntu 的一种新的包管理系统,其软件包存放在这里</td>
</tr>
<tr>
<td style="text-align:left">├── srv</td>
<td style="text-align:left">service,主要用来存储本机或本服务器提供的服务或数据</td>
</tr>
<tr>
<td style="text-align:left">├── swapfile</td>
<td style="text-align:left">交换文件,虚拟内存文件夹</td>
</tr>
<tr>
<td style="text-align:left">├── sys</td>
<td style="text-align:left">system,类似 proc,存放设备和系统的信息</td>
</tr>
<tr>
<td style="text-align:left">├── tmp</td>
<td style="text-align:left">temp,临时文件目录,很多程序会把临时数据存放在这里,系统启动时会清空这个文件夹</td>
</tr>
<tr>
<td style="text-align:left">├── usr</td>
<td style="text-align:left">Unix System Resources,存放系统系统文件,与 root 文件夹结构类似</td>
</tr>
<tr>
<td style="text-align:left">├── var</td>
<td style="text-align:left">程序存放运行信息的地方,如系统日志,用户信息,缓存等</td>
</tr>
</tbody>
</table>
</div>
<p>关于/usr 文件夹的缩写有好几种说法:</p>
<blockquote>
<p>Unix System Resources(根据其中的内容,感觉这种比较靠谱)<br>Unix SoftWare Resources<br>Unix Share Resources</p>
</blockquote>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">/usr 目录</th>
<th style="text-align:left">作用</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">.</td>
<td style="text-align:left">/usr 目录,其子文件夹内容与根目录子文件夹内容类似</td>
</tr>
<tr>
<td style="text-align:left">├── bin</td>
<td style="text-align:left">binary,可执行文件目录</td>
</tr>
<tr>
<td style="text-align:left">├── games</td>
<td style="text-align:left">游戏?大概是吧…</td>
</tr>
<tr>
<td style="text-align:left">├── include</td>
<td style="text-align:left">C 编译器所需要的头文件</td>
</tr>
<tr>
<td style="text-align:left">├── lib</td>
<td style="text-align:left">library,各种库文件(包括动态库和静态库)</td>
</tr>
<tr>
<td style="text-align:left">├── libexec</td>
<td style="text-align:left">与 lib 类似(也不知道为啥不合并)</td>
</tr>
<tr>
<td style="text-align:left">├── local</td>
<td style="text-align:left">管理员安装软件的地方,其结构与/usr 类似,手动安装的软件放这里</td>
</tr>
<tr>
<td style="text-align:left">├── sbin</td>
<td style="text-align:left">superuser binary,管理员工具软件目录</td>
</tr>
<tr>
<td style="text-align:left">├── share</td>
<td style="text-align:left">Unix 系统间的共享文件(man 手册存放在这里)</td>
</tr>
<tr>
<td style="text-align:left">└── src</td>
<td style="text-align:left">source,源代码文件(通常是内核),如果要编译内核,需要在这个目录里操作</td>
</tr>
</tbody>
</table>
</div>
<h2 id="2-文件系统"><a href="#2-文件系统" class="headerlink" title="2. 文件系统"></a>2. 文件系统</h2><h3 id="2-1-文件权限系统"><a href="#2-1-文件权限系统" class="headerlink" title="2.1 文件权限系统"></a>2.1 文件权限系统</h3><p>与 Windows 不同,Linux 的权限系统比较复杂:</p>
<blockquote>
<ol>
<li>Linux 把目录也看做一种文件</li>
<li>Linux 把所有用户分为三类:<br>文件创建者 user—u<br>与创建者同组的用户 group—g<br>其他用户 others—o</li>
<li>每个文件对不同类型的用户的权限分开管理,互不影响</li>
<li>每个文件的权限包括三种:<br>读取权限 read—r<br>写入权限 write—w<br>执行权限 execute—e</li>
</ol>
</blockquote>
<p>三种权限对于普通文件和目录文件的约束也有细微的区别:</p>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">权限—文件类型</th>
<th style="text-align:left">含义</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">r—文件</td>
<td style="text-align:left">可读取此一文件的实际内容,如读取文本文件的文字内容等</td>
</tr>
<tr>
<td style="text-align:left">w—文件</td>
<td style="text-align:left">可以编辑、新增或者是修改该文件的内容(但不含删除该文件)</td>
</tr>
<tr>
<td style="text-align:left">x—文件</td>
<td style="text-align:left">该文件具有可以被系统执行的权限</td>
</tr>
<tr>
<td style="text-align:left">r—目录</td>
<td style="text-align:left">表示具有读取目录结构列表的权限,即读取目录中的文件列表</td>
</tr>
<tr>
<td style="text-align:left">w—目录</td>
<td style="text-align:left">在目录中删除,建立,移动,重命名文件</td>
</tr>
<tr>
<td style="text-align:left">x—目录</td>
<td style="text-align:left">把该目录当做工作文件夹/在该目录中执行指令</td>
</tr>
</tbody>
</table>
</div>
<p>其中 x 对于目录来说很特殊<br>如果只有 w,没有 x,则无法执行任何指令<br>如果只有 r,没有 x,则只能看到目录中的文件名,无法读取其中的文件(即使有文件的 r 权限)</p>
<img src="http://img.yishiyu.world/blogs/images/Linux学习笔记(一)/1.png">
<p>ll 命令可以列出当前工作目录文件的详细信息<br>其中最开始的 10 个字符代表了文件的类型和权限<br>第一个字符为文件类型</p>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">字符</th>
<th style="text-align:left">文件类型</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">d</td>
<td style="text-align:left">目录</td>
</tr>
<tr>
<td style="text-align:left">-</td>
<td style="text-align:left">普通文件</td>
</tr>
<tr>
<td style="text-align:left">l</td>
<td style="text-align:left">链接文件(类似 windows 中的快捷方式)</td>
</tr>
<tr>
<td style="text-align:left">b</td>
<td style="text-align:left">可供储存的接口设备/随机存储设备</td>
</tr>
<tr>
<td style="text-align:left">c</td>
<td style="text-align:left">串行通信接口设备</td>
</tr>
</tbody>
</table>
</div>
<p>后面的 9 个字符分为三组,分别表示 ugo 三个用户的 rwx 三个权限</p>
<h3 id="2-2-文件管理命令"><a href="#2-2-文件管理命令" class="headerlink" title="2.2 文件管理命令"></a>2.2 文件管理命令</h3><h4 id="2-2-1-普通管理命令"><a href="#2-2-1-普通管理命令" class="headerlink" title="2.2.1 普通管理命令"></a>2.2.1 普通管理命令</h4><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">命令</th>
<th style="text-align:left">含义</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">ls</td>
<td style="text-align:left">list, 列出当前目录下的所有文件</td>
</tr>
<tr>
<td style="text-align:left">ll</td>
<td style="text-align:left">ls -alF 的缩写(列出所有文件,输出详细信息,附上说明字符)</td>
</tr>
<tr>
<td style="text-align:left">cd \<dir\></td>
<td style="text-align:left">change directory,改变工作目录(即当前所在目录)</td>
</tr>
<tr>
<td style="text-align:left">cp \<file1\> \<file2\></td>
<td style="text-align:left">copy,复制 file1 到 file2 的位置</td>
</tr>
<tr>
<td style="text-align:left">cp \<file1\> \<file2\> \<dir\></td>
<td style="text-align:left">复制 file1,file2 到目录 dir 中</td>
</tr>
<tr>
<td style="text-align:left">touch \<file\></td>
<td style="text-align:left">创建新文件</td>
</tr>
<tr>
<td style="text-align:left">mkdir \<dir\></td>
<td style="text-align:left">make directory,创建新文件夹</td>
</tr>
<tr>
<td style="text-align:left">rm [-rf] \<file/dir></td>
<td style="text-align:left">remove,删除文件,-r:递归删除文件夹,-f 忽略不存在的文件和参数</td>
</tr>
<tr>
<td style="text-align:left">rmdir \<dir\></td>
<td style="text-align:left">remove directory,删除空文件夹,可以用 rm 代替,很木大的一个命令</td>
</tr>
</tbody>
</table>
</div>
<h4 id="2-2-2-权限管理命令"><a href="#2-2-2-权限管理命令" class="headerlink" title="2.2.2 权限管理命令"></a>2.2.2 权限管理命令</h4><p>修改所属组命令</p>
<blockquote>
<p>chgrp [options]… group file…<br>-v: 打印详细信息<br>-R: 递归执行</p>
</blockquote>
<p>修改属主命令(同时也可以改变所属组)</p>
<blockquote>
<p>chown [options] user [:group] file…<br>-v: 打印详细信息<br>-R: 递归执行</p>
</blockquote>
<p>修改权限命令:chmod</p>
<blockquote>
<p>chomd nnn file<br>file 为目标文件<br>nnn 为用三个 8 进制数字表示的三个用户的目标权限</p>
<p>chomd ugo+rwx file<br>file 为目标文件<br>ugo(也可以为单个/两个字母)为目标用户<br>+为添加(-为减少)<br>rwx(也可以为单个/两个字母) 为目标权限</p>
</blockquote>
<h3 id="2-3-压缩与解压缩"><a href="#2-3-压缩与解压缩" class="headerlink" title="2.3 压缩与解压缩"></a>2.3 压缩与解压缩</h3><h4 id="2-3-1-概述"><a href="#2-3-1-概述" class="headerlink" title="2.3.1 概述"></a>2.3.1 概述</h4><p>Linux 中常用的压缩格式如下:</p>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">后缀名</th>
<th style="text-align:left">含义</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">*.Z</td>
<td style="text-align:left">compress 程序压缩的文件(现在基本不实用)</td>
</tr>
<tr>
<td style="text-align:left">*.zip</td>
<td style="text-align:left">zip 程序压缩的文件 (Windows 常用格式)</td>
</tr>
<tr>
<td style="text-align:left">*.rar</td>
<td style="text-align:left">rar 程序压缩的文件 (Windows 常用格式)</td>
</tr>
<tr>
<td style="text-align:left">*.gz</td>
<td style="text-align:left">gzip 程序压缩的文件 (Linux 常用格式)</td>
</tr>
<tr>
<td style="text-align:left">*.bz2</td>
<td style="text-align:left">bzip2 程序压缩的文件 (比 gz 压缩比更高,处理时间更长)</td>
</tr>
<tr>
<td style="text-align:left">*.xz</td>
<td style="text-align:left">xz 程序压缩的文件 (比 bz2 压缩比更高,处理时间更长)</td>
</tr>
<tr>
<td style="text-align:left">*.tar</td>
<td style="text-align:left">tar 程序打包的数据,并没有压缩过 (把一个目录压缩成一个文件)</td>
</tr>
<tr>
<td style="text-align:left">*.tar.gz</td>
<td style="text-align:left">tar 程序打包的文件,其中并且经过 gzip 的压缩</td>
</tr>
<tr>
<td style="text-align:left">*.tar.bz2</td>
<td style="text-align:left">tar 程序打包的文件,其中并且经过 bzip2 的压缩</td>
</tr>
<tr>
<td style="text-align:left">*.tar.xz</td>
<td style="text-align:left">tar 程序打包的文件,其中并且经过 xz 的压缩</td>
</tr>
</tbody>
</table>
</div>
<p>其中最常用的是 gzip,tar,zip,rar 四个程序<br>bzip2,xz 与 gzip 使用方法基本一致不再赘述</p>
<h4 id="2-3-2-gzip-格式"><a href="#2-3-2-gzip-格式" class="headerlink" title="2.3.2 gzip 格式"></a>2.3.2 gzip 格式</h4><blockquote>
<p>gzip [-cdtv#] 归档名<br>选项与参数:<br>-c :将压缩的数据输出到屏幕上,可透过数据流重导向来处理;<br>-d :解压缩;<br>-t :可以用来检验一个压缩文件的一致性~看看文件有无错误;<br>-v :可以显示出原文件/压缩文件案的压缩比等信息;<br>-# : 为数字的意思,代表压缩等级,-1 最快,但是压缩比最差、-9 最慢,但是压缩比最好!预设是 -6</p>
</blockquote>
<p>gzip 命令会使得原本的文件消失,如果要保存原本的文件,可以使用-c 参数再重定向到文件即可</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gzip -c file &gt; file.gz</span><br></pre></td></tr></table></figure>
<h4 id="2-3-3-zip-格式和-rar-格式"><a href="#2-3-3-zip-格式和-rar-格式" class="headerlink" title="2.3.3 zip 格式和 rar 格式"></a>2.3.3 zip 格式和 rar 格式</h4><blockquote>
<p>这两个格式需要自行安装<br>参考网址:<br><a target="_blank" rel="noopener" href="https://www.runoob.com/linux/linux-comm-zip.html">zip 命令</a>(一般从 linux 压缩文件传给 windows 用这个就行了)<br><a target="_blank" rel="noopener" href="https://www.runoob.com/linux/linux-comm-unzip.html">unzip 命令</a><br><a target="_blank" rel="noopener" href="https://www.linuxcool.com/unrar">unrar 命令</a></p>
</blockquote>
<p>实例:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">zip -q -r html.zip /home/html</span><br><span class="line">unzip -l html.zip</span><br></pre></td></tr></table></figure>
<h4 id="2-3-4-tar-格式"><a href="#2-3-4-tar-格式" class="headerlink" title="2.3.4 tar 格式"></a>2.3.4 tar 格式</h4><p>tar 命令用来把一个目录中的文件打包成一个文件<br>同时可以用参数指定压缩工具顺手把其压缩</p>
<blockquote>
<p>选项与参数:<br>-c :压缩文件,可搭配 -v 来察看过程中被打包的档名(filename)<br>-t :查看压缩文件内部结构<br>-x :解压缩,可以搭配 -C (大写) 在特定目录解开<br>上述三条参数为功能选择参数,不能同时出现<br>-z :用 gzip 压缩归档文件,后缀最好设为.gz<br>-j :用 bzip2 压缩归档文件后缀最好设为.bz2<br>-J :用 xz 压缩归档文件,后缀最好设为.xz<br>上述三个参数是压缩方式选择,不能同时出现<br>-v :显示详细信息<br>-f filename:-f 后面要立刻接要被处理的档名!建议 -f 单独写一个选项<br>-C 目录:这个选项用在解压缩,若要在特定目录解压缩,可以使用这个选项。<br>-p(小写) :保留备份数据的原本权限与属性,常用于备份(-c)重要的配置文件<br>-P(大写) :保留绝对路径,亦即允许备份数据中含有根目录存在之意;</p>
</blockquote>
<p>三条最基本的操作:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">tar -zcv -f filename.tar.gz 要被压缩的文件或目录名称</span><br><span class="line">tar -zvt -f filename.tar.gz</span><br><span class="line">tar -zxv -f filename.tar.gz -C 欲解压缩的目录</span><br></pre></td></tr></table></figure>
<h2 id="3-命令行工具"><a href="#3-命令行工具" class="headerlink" title="3. 命令行工具"></a>3. 命令行工具</h2><h3 id="3-1-显示工具"><a href="#3-1-显示工具" class="headerlink" title="3.1 显示工具"></a>3.1 显示工具</h3><p>仅给出命令基本的用处,详细内容可以参考 man 手册或者找相关博客</p>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">指令</th>
<th style="text-align:left">含义</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">echo</td>
<td style="text-align:left">回显指令,把从输入读取到的信息输出到输出</td>
</tr>
<tr>
<td style="text-align:left">grep</td>
<td style="text-align:left">正则表达式工具,从给定输入中读取,输出表达式能匹配到的行信息</td>
</tr>
<tr>
<td style="text-align:left">less</td>
<td style="text-align:left">当要输出的内容较多时,可以使用 less 工具使其逐步输出(相同的工具还有 more,推荐使用 more)</td>
</tr>
<tr>
<td style="text-align:left">pwd</td>
<td style="text-align:left">输出当前工作目录名</td>
</tr>
<tr>
<td style="text-align:left">diff</td>
<td style="text-align:left">查看两个文件的不同</td>
</tr>
<tr>
<td style="text-align:left">file</td>
<td style="text-align:left">查看文件格式</td>
</tr>
<tr>
<td style="text-align:left">find</td>
<td style="text-align:left">在给定文件夹中查找给定文件</td>
</tr>
<tr>
<td style="text-align:left">head</td>
<td style="text-align:left">输出文件的起始部分</td>
</tr>
<tr>
<td style="text-align:left">tail</td>
<td style="text-align:left">输出文件的结尾部分</td>
</tr>
<tr>
<td style="text-align:left">sort</td>
<td style="text-align:left">对文本文件进行行排序</td>
</tr>
<tr>
<td style="text-align:left">cut</td>
<td style="text-align:left">使用给定分割字符分割给定的字符串</td>
</tr>
<tr>
<td style="text-align:left">wc</td>
<td style="text-align:left">word counter,对给定字符串进行计数</td>
</tr>
<tr>
<td style="text-align:left">uniq</td>
<td style="text-align:left">报告或省略重复行</td>
</tr>
<tr>
<td style="text-align:left">tee</td>
<td style="text-align:left">双向重定向,把给定的输入流复制一份,一份流入给定文件,一份继续传递</td>
</tr>
<tr>
<td style="text-align:left">tr</td>
<td style="text-align:left">字符转换或字符删除</td>
</tr>
<tr>
<td style="text-align:left">join</td>
<td style="text-align:left">合并两个文件</td>
</tr>
<tr>
<td style="text-align:left">paste</td>
<td style="text-align:left">合并两个文件</td>
</tr>
<tr>
<td style="text-align:left">expand</td>
<td style="text-align:left">把 tab 替换为给定数量的空格</td>
</tr>
<tr>
<td style="text-align:left">split</td>
<td style="text-align:left">把给定的大文件切分成小文件</td>
</tr>
<tr>
<td style="text-align:left">xargs</td>
<td style="text-align:left">把读入的流转换为命令行参数传递</td>
</tr>
</tbody>
</table>
</div>
<h3 id="3-2-通配符"><a href="#3-2-通配符" class="headerlink" title="3.2 通配符"></a>3.2 通配符</h3><p>Linux 命令行中的通配符为一种弱化的正则语言<br>在命令行中的命令执行前,shell 会首先把所有的通配符展开(试图与当前工作目录中的所有文件进行匹配)<br>比如 rm ./* 会试图移除当前目录下的所有文件</p>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">通配符</th>
<th style="text-align:left">含义</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">*</td>
<td style="text-align:left">匹配 0 个到无穷多个任意字符</td>
</tr>
<tr>
<td style="text-align:left">?</td>
<td style="text-align:left">1 个任意字符(但不能为空字符)</td>
</tr>
<tr>
<td style="text-align:left">[]</td>
<td style="text-align:left">匹配[]中的任意一个字符一次</td>
</tr>
<tr>
<td style="text-align:left">[a-b]</td>
<td style="text-align:left">匹配 a 与 b 编码顺序内的任意字符一次</td>
</tr>
<tr>
<td style="text-align:left"><sup><a href="#fn_" id="reffn_"></a></sup></td>
<td style="text-align:left">反向选择,匹配不在[]内的任意字符一次</td>
</tr>
</tbody>
</table>
</div>
<h3 id="3-3-重定向和管道"><a href="#3-3-重定向和管道" class="headerlink" title="3.3 重定向和管道"></a>3.3 重定向和管道</h3><p>Linux 的命令行把每个命令(软件)的输入和输出看做是一种流<br>既然所有的输入输出都是流,则可以通过管道将其传递,或者改变其流动的方向</p>
<h4 id="重定向"><a href="#重定向" class="headerlink" title="重定向"></a>重定向</h4><ol>
<li>原本一个软件的输入是标准输入(命令行中的键盘输入),输出为标准输出(命令行回显)</li>
<li>覆盖重定向为覆盖原本内容(重定向到文件中则覆盖文件内容),符号为&gt;</li>
<li>追加重定向会追加内容(重定向到文件后不会覆盖原文本内容),符号为&gt;&gt;</li>
<li>输入重定位符号&lt;表示普通重定位,&lt;&lt;则表示后面跟的是定义的结束符</li>
<li>标准输入 (stdin) :代码为 0 ,使用 &lt; 或 &lt;&lt;</li>
<li>标准输出 (stdout):代码为 1 ,使用 &gt; 或 &gt;&gt;</li>
<li>标准错误输出(stderr):代码为 2 ,使用 2&gt; 或 2&gt;&gt;</li>
<li>/dev/null 为一个特殊设备,所有重定向到该设备的流都会被直接抛弃(相当于是一个垃圾桶)</li>
<li>可以把两个流合并:2&gt;&amp;1(把 stderr 合并到 stdout 中,其他同理)</li>
<li>需要注意的是,重定位符号的位置不影响效果</li>
</ol>
<p>关于 4,例子如下:</p>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># cat 指令如果没有指定文件，或者指定文件为“-”，则从标准输入读取</span><br><span class="line">yishiyu@yishiyu-Lenovo:~/Code/test$ cat &gt; catfile &lt;&lt; &quot;eof&quot;</span><br><span class="line">&gt; this is a test</span><br><span class="line">&gt; OK now stop</span><br><span class="line">&gt; eof</span><br><span class="line">yishiyu@yishiyu-Lenovo:~/Code/test$</span><br></pre></td></tr></table></figure>
<h4 id="管道"><a href="#管道" class="headerlink" title="管道"></a>管道</h4><ol>
<li>管道可以把一个程序的输出给另一个程序当做输入,即在两个命令之间用|连接:ls -al /etc | less</li>
<li>管线命令仅会处理 standard output,对于 standard error output 会予以忽略</li>
<li>管线命令必须要能够接受来自前一个指令的数据成为 standard input 继续处理才行</li>
<li>stdin 与 stdout 可以利用减号 “-“ 来替代</li>
</ol>
<h3 id="3-4-指令的连续执行"><a href="#3-4-指令的连续执行" class="headerlink" title="3.4 指令的连续执行"></a>3.4 指令的连续执行</h3><ol>
<li>单行指令拆分成多行</li>
</ol>
<p>如果一行写不下指令发生折叠,会影响视觉效果,可以通过”\”符号对指令进行分割,行之间无缝连接</p>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">yishiyu@yishiyu-Lenovo:~/Code/test$ echo \</span><br><span class="line">&gt; the first line \</span><br><span class="line">&gt; the second line \</span><br><span class="line">&gt; &gt; testfile</span><br><span class="line">yishiyu@yishiyu-Lenovo:~/Code/test$ ls</span><br><span class="line">testfile</span><br><span class="line">yishiyu@yishiyu-Lenovo:~/Code/test$ cat testfile</span><br><span class="line">the first line the second line</span><br><span class="line">yishiyu@yishiyu-Lenovo:~/Code/test$</span><br></pre></td></tr></table></figure>
<ol>
<li>按照一定逻辑连续执行指令</li>
</ol>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">连接符号</th>
<th style="text-align:left">逻辑</th>
<th style="text-align:left">示例</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">;</td>
<td style="text-align:left">无条件执行</td>
<td style="text-align:left">sync; sync; shutdown -h now</td>
</tr>
<tr>
<td style="text-align:left">&amp;&amp;</td>
<td style="text-align:left">前一条指令成功</td>
<td style="text-align:left">ls /tmp/abc &amp;&amp; touch /tmp/abc/hehe</td>
</tr>
<tr>
<td style="text-align:left">\</td>
<td style="text-align:left">\</td>
<td style="text-align:left"></td>
<td>前一条指令失败</td>
<td>ls /tmp/abc \</td>
<td>\</td>
<td>mkdir /tmp/abc</td>
</tr>
</tbody>
</table>
</div>
<h2 id="4-进程管理"><a href="#4-进程管理" class="headerlink" title="4. 进程管理"></a>4. 进程管理</h2><h3 id="4-1-进程的观察"><a href="#4-1-进程的观察" class="headerlink" title="4.1 进程的观察"></a>4.1 进程的观察</h3><h4 id="静态观察"><a href="#静态观察" class="headerlink" title="静态观察"></a>静态观察</h4><p>使用 ps 指令可以观察一个瞬间时所有进程的状态<br>ps 指令的 man 手册比较乱(因为要兼顾不同系统)<br>所以直接背两个固定的套路是比较不错的</p>
<ol>
<li>仅观察自己的 bash 相关进程: ps -l</li>
</ol>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">列表项</th>
<th style="text-align:left">含义</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">F</td>
<td style="text-align:left">flags,进程权限.4—root</td>
</tr>
<tr>
<td style="text-align:left">S</td>
<td style="text-align:left">status,进程状态</td>
</tr>
<tr>
<td style="text-align:left">UID/PID/PPID</td>
<td style="text-align:left">进程 UID,PID,父进程 PID</td>
</tr>
<tr>
<td style="text-align:left">C</td>
<td style="text-align:left">CPU 使用百分比</td>
</tr>
<tr>
<td style="text-align:left">PRI/NI</td>
<td style="text-align:left">执行优先级,越小优先级越高</td>
</tr>
<tr>
<td style="text-align:left">ADDR/SZ/WCHAN</td>
<td style="text-align:left">内存相关</td>
</tr>
<tr>
<td style="text-align:left">TTY</td>
<td style="text-align:left">终端位置</td>
</tr>
<tr>
<td style="text-align:left">CMD</td>
<td style="text-align:left">触发该进程的指令</td>
</tr>
</tbody>
</table>
</div>
<ol>
<li>观察系统所有进程:ps aux</li>
</ol>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">列表项</th>
<th style="text-align:left">含义</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">USER</td>
<td style="text-align:left">所属用户</td>
</tr>
<tr>
<td style="text-align:left">PID</td>
<td style="text-align:left">进程 ID</td>
</tr>
<tr>
<td style="text-align:left">%CPU</td>
<td style="text-align:left">CPU 使用百分比</td>
</tr>
<tr>
<td style="text-align:left">%MEM</td>
<td style="text-align:left">物理内存使用百分比</td>
</tr>
<tr>
<td style="text-align:left">VSZ</td>
<td style="text-align:left">虚拟内存使用量</td>
</tr>
<tr>
<td style="text-align:left">RSS</td>
<td style="text-align:left">占用的固定内存量</td>
</tr>
<tr>
<td style="text-align:left">TTY</td>
<td style="text-align:left">终端位置</td>
</tr>
<tr>
<td style="text-align:left">STAT</td>
<td style="text-align:left">进程状态</td>
</tr>
<tr>
<td style="text-align:left">START</td>
<td style="text-align:left">启动时间</td>
</tr>
<tr>
<td style="text-align:left">TIME</td>
<td style="text-align:left">使用 CPU 的时间</td>
</tr>
<tr>
<td style="text-align:left">COMMAND</td>
<td style="text-align:left">触发该进程的指令</td>
</tr>
</tbody>
</table>
</div>
<h4 id="动态观察"><a href="#动态观察" class="headerlink" title="动态观察"></a>动态观察</h4><p>top 可以持续不断地检测系统进程状态</p>
<blockquote>
<p>top [-d 数字] | top [-bnp]<br>选项与参数:<br>-d:后面可以接秒数,就是整个进程画面更新的秒数。预设是 5 秒;<br>-b:以批次的方式执行 top ,通常会搭配数据流重导向来将批次的结果输出成为文件。<br>-n:与 -b 搭配,意义是,需要进行几次 top 的输出结果。<br>-p:指定某些个 PID 来进行观察<br>在 top 执行过程当中可以使用的按键指令:<br>? :显示在 top 当中可以输入的按键指令;<br>P :以 CPU 的使用资源排序显示;<br>M :以 Memory 的使用资源排序显示;<br>N :以 PID 来排序!<br>T :由该 Process 使用的 CPU 时间累积 (TIME+) 排序。<br>k :给予某个 PID 一个信号(signal)<br>r :给予某个 PID 重新制订一个 nice 值。<br>q :离开 top</p>
</blockquote>
<h3 id="4-2-进程的管理"><a href="#4-2-进程的管理" class="headerlink" title="4.2 进程的管理"></a>4.2 进程的管理</h3><p>可以通过向进程发送信号来实现对进程的管理</p>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">信号</th>
<th style="text-align:left">含义</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">1 SIGHUP</td>
<td style="text-align:left">启动被终止的进程,可让该 PID 重新读取自己的配置文件,类似重新启动</td>
</tr>
<tr>
<td style="text-align:left">2 SIGINT</td>
<td style="text-align:left">相当于用键盘输入 [ctrl]-c 来中断一个进程的进行</td>
</tr>
<tr>
<td style="text-align:left">9 SIGKILL</td>
<td style="text-align:left">代表强制中断一个进程的进行</td>
</tr>
<tr>
<td style="text-align:left">15 SIGTERM</td>
<td style="text-align:left">以正常的结束进程来终止该进程。如果进程异常(如卡死),则可能无法接收这个信号</td>
</tr>
<tr>
<td style="text-align:left">19 SIGSTOP</td>
<td style="text-align:left">相当于用键盘输入 [ctrl]-z 来暂停一个进程的进行</td>
</tr>
</tbody>
</table>
</div>
<ol>
<li>kill 指令(向进程发送信号)</li>
</ol>
<blockquote>
<p>kill -s Signal PID<br>-s: 指定信号<br>PID: 指定进程 PID<br>例子:<br>kill -9 4300<br>强制终止 PID 为 4300 的进程</p>
</blockquote>
<ol>
<li>killall 指令(指定名称发送信号)</li>
</ol>
<blockquote>
<p>killall [-egiqvw] [-signal] name<br>-e: 对于超过 15 个字符的名字,killall 命令默认是只匹配前 15 个字符,-e 要求强制全部匹配<br>-g: 杀死属于改进承租的进程<br>-i: 交互方式运行,在杀死进程之前需要交互式确认<br>-l: 列出所有已知的信号名<br>-q: 如果没有进程杀死,不会提出抱怨<br>-v: 报告信号是否成功杀死<br>-V: 显示版本信息<br>-w: 确认所有被杀进程死去(未响应进程和僵尸进程可能会导致永久等待)</p>
</blockquote>
<h3 id="4-3-服务的管理"><a href="#4-3-服务的管理" class="headerlink" title="4.3 服务的管理"></a>4.3 服务的管理</h3><p>一种特殊的进程叫做 deamon 进程(后台守护进程),一般的服务都是以后台进程的方式实现的<br>对服务的管理一般通过 systemctl 这个命令完成</p>
<blockquote>
<p>systemctl [command] [unit]<br>command 主要有:<br>start :立刻启动后面接的 unit<br>stop :立刻关闭后面接的 unit<br>restart :立刻关闭后启动后面接的 unit,亦即执行 stop 再 start 的意思<br>reload :不关闭后面接的 unit 的情况下,重载配置文件,让设定生效<br>enable :设定下次开机时,后面接的 unit 会被启动<br>disable :设定下次开机时,后面接的 unit 不会被启动<br>status :目前后面接的这个 unit 的状态,会列出有没有正在执行、开机预设执行否、登录等信息等!<br>is-active :目前有没有正在运作中<br>is-enable :开机时有没有预设要启用这个 unit</p>
</blockquote>
<p>systemctl 还可以对系统上的服务进行观察</p>
<blockquote>
<p>systemctl [command] [—type=TYPE] [—all]<br>command:<br>list-units:依据 unit 列出目前有启动的 unit。若加上 —all 才会列出没启动的。<br>list-unit-files :依据 /usr/lib/systemd/system/ 内的文件,将所有文件列表说明。<br>—type=TYPE:就是之前提到的 unit type,主要有 service, socket, target 等</p>
</blockquote>
<p>关于系统服务的详细内容可以参照鸟哥的书,其中有关于系统服务结构的详细讲解(包括如何自定义服务)</p>
<h2 id="5-网络管理"><a href="#5-网络管理" class="headerlink" title="5. 网络管理"></a>5. 网络管理</h2><h3 id="5-1-网络基本命令"><a href="#5-1-网络基本命令" class="headerlink" title="5.1 网络基本命令"></a>5.1 网络基本命令</h3><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">基本命令</th>
<th style="text-align:left">含义</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">hostname</td>
<td style="text-align:left">获取主机名称</td>
</tr>
<tr>
<td style="text-align:left">ping</td>
<td style="text-align:left">确认网络连接是否畅通</td>
</tr>
<tr>
<td style="text-align:left">ifconfig</td>
<td style="text-align:left">查询网卡信息(包括虚拟网卡)</td>
</tr>
<tr>
<td style="text-align:left">telnet</td>
<td style="text-align:left">试图与主机指定端口进行连接,确认服务是否正常运行</td>
</tr>
<tr>
<td style="text-align:left">ssh</td>
<td style="text-align:left">与指定主机进行 ssh 连接</td>
</tr>
</tbody>
</table>
</div>
<blockquote>
<p>netstat [选项]<br>参数列表:<br>-a: 列出所有端口信息<br>-l: 只列出监听端口信息<br>上述两个参数不可同时使用,默认是-a<br>-t: 列出 tcp 端口<br>-u: 列出 udp 端口<br>-x: 列出 unix 端口<br>上述三个参数可以同时使用,默认三个全有<br>-p: 列出进程名和 pid<br>-p 参数与 grep 同时使用可以查看占用端口的进程</p>
</blockquote>
<p>wget 和 curl 都是网络下载器<br>其中 wget 更轻便,curl 功能更强大<br>一般使用 wget 就行了</p>
<p>wget 笔记:<a target="_blank" rel="noopener" href="https://www.cnblogs.com/peida/archive/2013/03/18/2965369.html">[wget 命令 | 竹子-博客-架构未来<br>]</a></p>
<h3 id="5-2-网络防火墙设置"><a href="#5-2-网络防火墙设置" class="headerlink" title="5.2 网络防火墙设置"></a>5.2 网络防火墙设置</h3><p>防火墙主要有两种工具:iptables 和 firewalld<br>其二者都仅是把规则整理后传给系统内核模块来执行,而不是其本身执行<br>这几种防火墙互相不冲突,但是必须所有防火墙都放行流量才能通过<br>所以只需要设置一种,把其他的几种关闭或者设置全部放行即可</p>
<p>同时如果使用阿里云服务器,还有一种防火墙方式:阿里防火墙组管理(感觉超级好用…其他云服务平台应该也有类似的)</p>
<p>iptables 比较旧,firewalld 比较新(鸟叔直接讲的 firewalld,没有提 iptables…)</p>
<p>所以直接略过 iptables(可以参照&lt;&lt;\Linux 就该这么学&gt;&gt;)</p>
<p>参考链接:<br><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/23519454">[Firewalld 详解 | 知乎]</a><br><a target="_blank" rel="noopener" href="https://www.linuxprobe.com/centos-firewalld.html">[FirewallD 入门手册 | Linux 中国]</a></p>
<h2 id="6-系统管理"><a href="#6-系统管理" class="headerlink" title="6. 系统管理"></a>6. 系统管理</h2><h3 id="6-1-账号管理"><a href="#6-1-账号管理" class="headerlink" title="6.1 账号管理"></a>6.1 账号管理</h3><h4 id="用户管理"><a href="#用户管理" class="headerlink" title="用户管理"></a>用户管理</h4><ol>
<li>用户创建(会同时创建一个同名组)</li>
</ol>
<blockquote>
<p>useradd [-u UID] [-g 初始群组] [-G 次要群组] [-mM] &gt; [-c 说明栏] [-d 家目录绝对路径] [-s shell] 使用者账号名<br>选项与参数:<br>-u :后面接的是 UID ,是一组数字。直接指定一个特定的 UID 给这个账号;<br>-g :后面接的那个组名就是我们上面提到的 initial group 啦~<br>该群组的 GID 会被放置到 /etc/passwd 的第四个字段内。<br>-G :后面接的组名则是这个账号还可以加入的群组。这个选项与参数会修改 /etc/group 内的相关资料喔!<br>-M :强制!不要建立用户家目录!(系统账号默认值)<br>-m :强制!要建立用户家目录!(一般账号默认值)<br>-c :这个就是 /etc/passwd 的第五栏的说明内容啦~可以随便我们设定的啦~<br>-d :指定某个目录成为家目录,而不要使用默认值。务必使用绝对路径!<br>-r :建立一个系统的账号,这个账号的 UID 会有限制 (参考 /etc/login.defs)<br>-s :后面接一个 shell ,若没有指定则预设是 /bin/bash 的啦~<br>-e :后面接一个日期,格式为『YYYY-MM-DD』此项目可写入 shadow 第八字段,亦即账号失效日的设定项目啰;<br>-f :后面接 shadow 的第七字段项目,指定密码是否会失效。<br>0 为立刻失效,-1 为永远不失效(密码只会过期而强制于登入时重新设定而已。)</p>
<blockquote>
<p>创建新用户时系统的行为:<br>在 /etc/passwd 里面建立一行与账号相关的数据,包括建立 UID/GID/家目录等;<br>在 /etc/shadow 里面将此账号的密码相关参数填入,但是尚未有密码(手动设置密码后会有加密后的密码);<br>在 /etc/group 里面加入一个与账号名称一模一样的组名;<br>在 /home 底下建立一个与账号同名的目录作为用户家目录,且权限为 700</p>
</blockquote>
</blockquote>
<ol>
<li>修改/设置密码</li>
</ol>
<blockquote>
<p>普通用户可以修改自己的密码,root 用户可以在不知道用户密码时修改其密码<br>passwd [—stdin] [账号名称]<br>passwd [-l] [-u] [—stdin] [-S] [-n 日数] [-x 日数] [-w 日数] [-i 日期] 账号<br>选项与参数:<br>—stdin :可以透过来自前一个管线的数据,作为密码输入,对 shell script 有帮助!<br>-l :是 Lock 的意思,会将 /etc/shadow 第二栏最前面加上 ! 使密码失效;<br>-u :与 -l 相对,是 Unlock 的意思!<br>-S :列出密码相关参数,亦即 shadow 文件内的大部分信息。<br>-n :后面接天数,shadow 的第 4 字段,多久不可修改密码天数<br>-x :后面接天数,shadow 的第 5 字段,多久内必须要更动密码<br>-w :后面接天数,shadow 的第 6 字段,密码过期前的警告天数<br>-i :后面接『日期』,shadow 的第 7 字段,密码失效日期</p>
</blockquote>
<ol>
<li>查看用户信息</li>
</ol>
<blockquote>
<p>id [选项]… [用户]</p>
</blockquote>
<ol>
<li>修改用户信息</li>
</ol>
<blockquote>
<p>usermod [-cdegGlsuLU] username<br>选项与参数:<br>-c :后面接账号的说明,即 /etc/passwd 第五栏的说明栏,可以加入一些账号的说明。<br>-d :后面接账号的家目录,即修改 /etc/passwd 的第六栏;<br>-e :后面接日期,格式是 YYYY-MM-DD 也就是在 /etc/shadow 内的第八个字段数据啦!<br>-f :后面接天数,为 shadow 的第七字段。<br>-g :后面接初始群组,修改 /etc/passwd 的第四个字段,亦即是 GID 的字段!<br>-G :后面接次要群组,修改这个使用者能够支持的群组,修改的是 /etc/group 啰~<br>-a :与 -G 合用,可『增加次要群组的支持』而非『设定』喔!<br>-l :后面接账号名称。亦即是修改账号名称, /etc/passwd 的第一栏!<br>-s :后面接 Shell 的实际文件,例如 /bin/bash 或 /bin/csh 等等。<br>-u :后面接 UID 数字啦!即 /etc/passwd 第三栏的资料;<br>-L :暂时将用户的密码冻结,让他无法登入。其实仅改 /etc/shadow 的密码栏。<br>-U :将 /etc/shadow 密码栏的 ! 拿掉,解冻啦!</p>
</blockquote>
<ol>
<li>删除用户</li>
</ol>
<blockquote>
<p>userdel [-r] username<br>选项与参数:<br>-r :连同用户的家目录也一起删除</p>
</blockquote>
<h4 id="为新用户添加-root-权限"><a href="#为新用户添加-root-权限" class="headerlink" title="为新用户添加 root 权限"></a>为新用户添加 root 权限</h4><p>需要注意的是,建立完用户后,用户默认是无法使用 root 权限的<br>在执行 sudo 命令的时候,Linux 会首先在/etc/sudoers 这个文件中查找当前用户是否拥有 root 权限</p>
<p>可以使用 sudo vim /etc/sudoers 也可以使用 sudo visudo 这个命令对配置文件进行修改</p>
<p>使用者账号 登入者的来源主机名=(可切换的身份) 可下达的指令<br>root ALL=(ALL) ALL<br>同时可以给一个组赋予权限,使得该组内所有用户都拥有该权限(%代表该名称为组)<br>%wheel ALL=(ALL) ALL<br>可以给该用户限定 sudo 执行的命令(必须用绝对路径表示)<br>user ALL=(root) !/usr/bin/passwd, /usr/bin/passwd [A-Za-z]*, !/usr/bin/passwd root</p>
<h4 id="su-和-sudo-命令"><a href="#su-和-sudo-命令" class="headerlink" title="su 和 sudo 命令"></a>su 和 sudo 命令</h4><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">命令</th>
<th style="text-align:left">含义</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">sudo</td>
<td style="text-align:left">super user do,命令前缀,使用 root 权限执行后续命令</td>
</tr>
<tr>
<td style="text-align:left">su user</td>
<td style="text-align:left">switch user,切换至用户 user</td>
</tr>
<tr>
<td style="text-align:left">su</td>
<td style="text-align:left">切换至 root 用户模式,所有命令都使用 root 权限执行,exit 退出</td>
</tr>
</tbody>
</table>
</div>
<p>默认情况下,只有 root 用户拥有管理员权限,其他用户无法使用 su 和 sudo 命令获取到管理员权限</p>
<p>需要注意的是 su 单独使用和 su user 只切换到目标用户身份,但不加载该用户的环境配置(即 nologin shell)<br>-和-l 两个参数(其实都是—login 的缩写)切换身份的同时加载该用户的环境配置(即 login shell)</p>
<h4 id="组管理"><a href="#组管理" class="headerlink" title="组管理"></a>组管理</h4><ol>
<li>添加组</li>
</ol>
<blockquote>
<p>groupadd [-g gid] [-r] 组名<br>选项与参数:<br>-g :后面接某个特定的 GID ,用来直接给予某个 GID ~<br>-r :建立系统群组啦!与 /etc/login.defs 内的 GID_MIN 有关。</p>
</blockquote>
<ol>
<li>修改组信息</li>
</ol>
<blockquote>
<p>groupmod [-g gid] [-n group_name] 群组名<br>选项与参数:<br>-g :修改既有的 GID 数字;<br>-n :修改既有的组名</p>
</blockquote>
<ol>
<li>删除组</li>
</ol>
<blockquote>
<p>groupdel [groupname]</p>
</blockquote>
<ol>
<li>组管理</li>
</ol>
<blockquote>
<p>gpasswd groupname: 设置组管理密码<br>gpasswd [-A user1,…] groupname: 指定组管理员<br>gpasswd [-ad] user groupname: 添加/删除组成员</p>
</blockquote>
<h3 id="6-2-资源管理"><a href="#6-2-资源管理" class="headerlink" title="6.2 资源管理"></a>6.2 资源管理</h3><ol>
<li>检测内存的使用情况</li>
</ol>
<blockquote>
<p>free [-b|-k|-m|-g|-h] [-t] [-s N -c N]<br>选项与参数:<br>-b:直接输入 free 时,显示的单位是 Kbytes,可以让系统自己指定你单位(-h)<br>也可以使用 b(bytes), m(Mbytes), k(Kbytes), g(Gbytes) 指定单位<br>-t :在输出的最终结果,显示物理内存与 swap 的总量。<br>-s :可以让系统每几秒钟输出一次,不间断的一直输出的意思!对于系统观察挺有效!<br>-c :与 -s 同时处理~让 free 列出几次的意思~</p>
</blockquote>
<ol>
<li>查阅系统信息</li>
</ol>
<blockquote>
<p>uname [-asrmpi]<br>选项与参数:<br>-a :所有系统相关的信息,包括底下的数据都会被列出来;<br>-s :系统核心名称<br>-r :核心的版本<br>-m :本系统的硬件名称,例如 i686 或 x86_64 等;<br>-p :CPU 的类型,与 -m 类似,只是显示的是 CPU 的类型!<br>-i :硬件的平台 (ix86)</p>
<p>也可以使用 screenfetch 命令<br>其输出带发行版 logo 的系统信息(非常好看)</p>
</blockquote>
<ol>
<li>观察系统启动时间与工作负载</li>
</ol>
<blockquote>
<p>uptime<br>这个命令显示的和 top 命令最上面一行的内容是一样的</p>
</blockquote>
<ol>
<li>查看网络和 socket 文件</li>
</ol>
<blockquote>
<p>netstat -[atunlp]<br>选项与参数:<br>-a :将目前系统上所有的联机、监听、Socket 数据都列出来<br>-t :列出 tcp 网络封包的数据<br>-u :列出 udp 网络封包的数据<br>-n :不以进程的服务名称,以埠号 (port number) 来显示;<br>-l :列出目前正在网络监听 (listen) 的服务;<br>-p :列出该网络服务的进程 PID</p>
</blockquote>
<ol>
<li>分析核心信息</li>
</ol>
<blockquote>
<p>dmesg</p>
</blockquote>
<ol>
<li>监测系统资源变化</li>
</ol>
<blockquote>
<p>vmstat [-n] [延时[次数]]<br>还有一些其他的参数,但是一般只用这个就够了</p>
</blockquote>
<h3 id="6-3-SELinux"><a href="#6-3-SELinux" class="headerlink" title="6.3 SELinux"></a>6.3 SELinux</h3><p>SELinux 即 Security Enhanced Linux(安全附魔 Linux…)<br>主要是为系统安全服务的一个模块</p>
<p>原本一个进程访问一个资源仅看其是否有权限<br>在 SELinux 中附加条件为其是否需要该资源</p>
<p>暂时用不到,所以先不学(到时候也得忘)</p>
<p>参考链接:<a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/30483108">SELinux | 知乎</a><br>参考书籍:&lt;&lt;鸟哥的 Linux 私房菜-基础篇&gt;&gt;</p>
<h2 id="7-包管理系统-主-Debian-系"><a href="#7-包管理系统-主-Debian-系" class="headerlink" title="7. 包管理系统(主 Debian 系)"></a>7. 包管理系统(主 Debian 系)</h2><p>包管理系统包括两个体系:</p>
<ol>
<li>Debian 系统的 apt 体系</li>
<li>RedHat 系统的 yum 体系</li>
</ol>
<h3 id="7-1-apt-体系"><a href="#7-1-apt-体系" class="headerlink" title="7.1 apt 体系"></a>7.1 apt 体系</h3><h4 id="7-1-1-概述"><a href="#7-1-1-概述" class="headerlink" title="7.1.1 概述"></a>7.1.1 概述</h4><p>参考链接:<br>(有一说一嗷,csdn,博客园,简书相关博客抄袭实在严重,github pages 上的质量高多了)<br><a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/APT">APT 体系 | 维基百科</a><br><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/28562152">包管理系统 | 知乎</a></p>
<p>APT 体系全称是 Advanced Packaging Tools(高级包管理工具)<br>其底层是 dpkg(Debian package,Debian 包管理工具)</p>
<p>dpkg 的包结构为.deb 格式,dpkg 可以直接通过.deb 文件安装软件<br>APT 体系为基于 dpkg 的包管理系统,其通过网络安装源来安装软件<br>dpkg 不会主动处理依赖关系,APT 体系会自动处理软件包间的依赖关系.</p>
<p>APT 体系主要由三个命令组成,提供基于 dpkg 的高级命令工具集合</p>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">命令</th>
<th style="text-align:left">功能</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">apt-get</td>
<td style="text-align:left">控制包安装卸载等</td>
</tr>
<tr>
<td style="text-align:left">apt-cache</td>
<td style="text-align:left">用于查询 APT 缓存(通过 apt-get update 更新)</td>
</tr>
<tr>
<td style="text-align:left">apt-file</td>
<td style="text-align:left">(维基百科上有这个,但是 man apt-file 找不到相关手册…)</td>
</tr>
</tbody>
</table>
</div>
<blockquote>
<p>现在推出了一个 apt 命令,但是感觉还是 apt-get 好用一点<br>Linux 中国在知乎上的文章对 apt 的描述是显示彩色的进度条(笑死我了哈哈哈哈)</p>
</blockquote>
<h4 id="7-1-2-命令总结"><a href="#7-1-2-命令总结" class="headerlink" title="7.1.2 命令总结"></a>7.1.2 命令总结</h4><ol>
<li>安装软件</li>
</ol>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">命令</th>
<th style="text-align:left">功能</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">sudo apt-get install \<package\></td>
<td style="text-align:left">安装新的软件</td>
</tr>
<tr>
<td style="text-align:left">sudo apt-get upgrade</td>
<td style="text-align:left">更新已安装的所有软件</td>
</tr>
</tbody>
</table>
</div>
<ol>
<li>卸载软件</li>
</ol>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">命令</th>
<th style="text-align:left">功能</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">sudo apt-get remove \<package\></td>
<td style="text-align:left">卸载软件,但是保存配置文件</td>
</tr>
<tr>
<td style="text-align:left">sudo apt-get -purge remove \<package\></td>
<td style="text-align:left">卸载软件并清除配置文件</td>
</tr>
<tr>
<td style="text-align:left">sudo apt-get autoremove</td>
<td style="text-align:left">自动删除不需要的包</td>
</tr>
</tbody>
</table>
</div>
<ol>
<li>搜索软件</li>
</ol>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">命令</th>
<th style="text-align:left">功能</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">sudo apt-cache search \<package\></td>
<td style="text-align:left">在 APT 系统缓存中搜索软件信息</td>
</tr>
<tr>
<td style="text-align:left">sudo apt-cache show \<package\></td>
<td style="text-align:left">已经确定了包的名字,显示缓存中的相关信息</td>
</tr>
<tr>
<td style="text-align:left">sudo apt-get update</td>
<td style="text-align:left">从已配置的软件源拉取信息,以更新 APT 信息缓存</td>
</tr>
<tr>
<td style="text-align:left">sudo apt-cache policy \<package\></td>
<td style="text-align:left">已经确定了包的名字,显示其安装信息</td>
</tr>
</tbody>
</table>
</div>
<ol>
<li>dpkg 命令</li>
</ol>
<blockquote>
<p>dpkg 命令为底层命令,可以安装本地 deb 包</p>
</blockquote>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">命令</th>
<th style="text-align:left">功能</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">dpkg -i package.deb</td>
<td style="text-align:left">安装包</td>
</tr>
<tr>
<td style="text-align:left">dpkg -r package</td>
<td style="text-align:left">删除包</td>
</tr>
<tr>
<td style="text-align:left">dpkg -P package</td>
<td style="text-align:left">删除包(包括配置文件)</td>
</tr>
<tr>
<td style="text-align:left">dpkg -L package</td>
<td style="text-align:left">列出与该包关联的文件</td>
</tr>
<tr>
<td style="text-align:left">dpkg -l package</td>
<td style="text-align:left">显示该包的版本</td>
</tr>
<tr>
<td style="text-align:left">dpkg —unpack package.deb</td>
<td style="text-align:left">解开 deb 包的内容</td>
</tr>
<tr>
<td style="text-align:left">dpkg -S keyword</td>
<td style="text-align:left">搜索所属的包内容</td>
</tr>
<tr>
<td style="text-align:left">dpkg -l</td>
<td style="text-align:left">列出当前已安装的包</td>
</tr>
<tr>
<td style="text-align:left">dpkg -c package.deb</td>
<td style="text-align:left">列出 deb 包的内容</td>
</tr>
<tr>
<td style="text-align:left">dpkg —configure package</td>
<td style="text-align:left">配置包</td>
</tr>
<tr>
<td style="text-align:left">dpkg -s package</td>
<td style="text-align:left">显示该包的信息</td>
</tr>
</tbody>
</table>
</div>
<ol>
<li>apt 命令</li>
</ol>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">命令</th>
<th style="text-align:left">功能</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">apt list</td>
<td style="text-align:left">根据名称列出软件包</td>
</tr>
<tr>
<td style="text-align:left">apt search</td>
<td style="text-align:left">搜索软件包描述</td>
</tr>
<tr>
<td style="text-align:left">apt show</td>
<td style="text-align:left">显示软件包细节</td>
</tr>
<tr>
<td style="text-align:left">apt install</td>
<td style="text-align:left">安装软件包</td>
</tr>
<tr>
<td style="text-align:left">apt remove</td>
<td style="text-align:left">移除软件包</td>
</tr>
<tr>
<td style="text-align:left">apt autoremove</td>
<td style="text-align:left">卸载所有自动安装且不再使用的软件包</td>
</tr>
<tr>
<td style="text-align:left">apt update</td>
<td style="text-align:left">更新可用软件包列表</td>
</tr>
<tr>
<td style="text-align:left">apt upgrade</td>
<td style="text-align:left">通过 安装/升级 软件来更新系统</td>
</tr>
<tr>
<td style="text-align:left">apt full-upgrade</td>
<td style="text-align:left">通过 卸载/安装/升级 来更新系统</td>
</tr>
<tr>
<td style="text-align:left">apt edit-sources</td>
<td style="text-align:left">编辑软件源信息文件</td>
</tr>
</tbody>
</table>
</div>
<h4 id="7-1-3-镜像源管理"><a href="#7-1-3-镜像源管理" class="headerlink" title="7.1.3 镜像源管理"></a>7.1.3 镜像源管理</h4><p>参考链接:<br><a target="_blank" rel="noopener" href="https://www.jianshu.com/p/cc17aae41245">Debian 软件包管理 | 简书</a></p>
<p>APT 体系的镜像源(即 apt-get 等命令获取软件的服务器)有两种</p>
<ol>
<li>官方维护的软件源(国内的各种镜像源与其内容相同,仅提高了速度)</li>
<li>Ubuntu 母公司 Canonical 架设的 PPA(Personal Package Archives,个人软件档案)</li>
</ol>
<p>其中官方维护的软件源质量有保证,PPA 源由个人建立,可靠性上可能有一定的缺失.</p>
<p>官方软件源(及各种镜像源)地址存放在/etc/apt/source.list 文件中</p>
<p>软件源的格式通常是 4 部分:</p>
<blockquote>
<p>[archive type] [repository URL] [distribution] [component]</p>
<ol>
<li>archive type 有两种,deb 表示二进制软件包，deb-src 表示源代码软件包.</li>
<li>repository URL 表示仓库地址,国内镜像站通常是’<a target="_blank" rel="noopener" href="https://mirrors.xxx.xxx/debian">https://mirrors.xxx.xxx/debian</a>‘<br>(如果是 ubuntu，就替换 debian)</li>
<li>distribution 表示发行版本的代号,如 Debian 9 是 stretch，Ubuntu 17.04 是 zesty<br>(来自完整的版本号 Zesty Zapus)</li>
<li>component 通常有 main、contrib 和 non-free 三类,可以有多个，空格分隔<br>(Ubuntu 中是 main、restricted、universe 和 multiverse)</li>
<li>distribution 中可能会使用 stable 而不是特定的版本号<br>还会有相关的后缀-updates、-proposed-updates、-backports、-security 等.</li>
</ol>
</blockquote>
<p>PPA 源可以通过命令进行管理</p>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">命令</th>
<th style="text-align:left">功能</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">sudo add-apt-repository ppa:\<user\>/\<ppa-name\></td>
<td style="text-align:left">添加一条 PPA 源</td>
</tr>
<tr>
<td style="text-align:left">sudo apt-get update</td>
<td style="text-align:left">刷新 APT 缓存,获取 PPA 源中的信息</td>
</tr>
<tr>
<td style="text-align:left">sudo add-apt-repository -r ppa:\<user\>/\<ppa-name\></td>
<td style="text-align:left">移除一个 PPA 源</td>
</tr>
</tbody>
</table>
</div>
<p>添加 PPA 源相当于在/etc/source.list.d/下创建 list 文件<br>也相当于在/etc/apt/source.list 中添加对应的源地址(当然不是命令中那种格式)<br>删除的时候也可以直接进入/etc/apt/source.list.d/文件夹中删除相对应的文件<br>最后,add-apt-repository 依赖 python-software-properties 这个工具包<br>如果提示没有找到该命令,可以先用 apt-get 安装这个工具包</p>
<h3 id="7-2-yum-体系"><a href="#7-2-yum-体系" class="headerlink" title="7.2 yum 体系"></a>7.2 yum 体系</h3><h4 id="7-2-1-概述"><a href="#7-2-1-概述" class="headerlink" title="7.2.1 概述"></a>7.2.1 概述</h4><p>yum 体系源自 redhat 系统,与 debian 的 dpkg 类似:<br>dpkg — rpm ==&gt; 本地包管理系统<br>apt — yum ==&gt; 在线包管理系统<br>.dep — .rpm ==&gt; 软件包格式</p>
<p>yum==Yellow dog Updater, Modified (可真是够奇怪的…)<br>rpm==The RPM Package Manager(真就套娃呗…)</p>
<p>参考链接:<br><a target="_blank" rel="noopener" href="https://wangchujiang.com/linux-command/c/yum.html">yum 的用法</a><br>虽然 Ubuntu 本身没 yum(也不适合用 yum 安装东西)<br>但是可以通过 docker 运行一个 centos 镜像来体验一下 yum</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo docker run -it centos</span><br></pre></td></tr></table></figure>
<h4 id="7-2-2-命令总结"><a href="#7-2-2-命令总结" class="headerlink" title="7.2.2 命令总结"></a>7.2.2 命令总结</h4><ol>
<li>安装软件</li>
</ol>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">命令</th>
<th style="text-align:left">功能</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">sudo yum install \<package\></td>
<td style="text-align:left">安装新的软件</td>
</tr>
<tr>
<td style="text-align:left">sudo yum update</td>
<td style="text-align:left">更新已安装的所有软件</td>
</tr>
<tr>
<td style="text-align:left">sudo yum insatll \<package\>.rpm</td>
<td style="text-align:left">从本地包安装(类似 dpkg -i)</td>
</tr>
</tbody>
</table>
</div>
<ol>
<li>卸载软件</li>
</ol>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">命令</th>
<th style="text-align:left">功能</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">sudo yum remove \<package\></td>
<td style="text-align:left">卸载软件</td>
</tr>
</tbody>
</table>
</div>
<ol>
<li>搜索软件</li>
</ol>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">命令</th>
<th style="text-align:left">功能</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">sudo yum search \<package\></td>
<td style="text-align:left">在 yum 系统缓存中搜索软件信息</td>
</tr>
<tr>
<td style="text-align:left">sudo yum all search \<package\></td>
<td style="text-align:left">搜索内容扩大至软件描述</td>
</tr>
<tr>
<td style="text-align:left">sudo yum check-update</td>
<td style="text-align:left">从已配置的软件源拉取信息,以更新 yum 信息缓存</td>
</tr>
<tr>
<td style="text-align:left">sudo yum info \<package\></td>
<td style="text-align:left">已经确定了包的名字,显示其信息</td>
</tr>
<tr>
<td style="text-align:left">sudo yum deplist \<package\></td>
<td style="text-align:left">列出包的依赖关系</td>
</tr>
<tr>
<td style="text-align:left">sudo yum list \<package\></td>
<td style="text-align:left">列出给定包的信息(如果没有 package 参数,列出所有)</td>
</tr>
</tbody>
</table>
</div>
<p>同 APT 体系的 dpkg 一样,yum 体系也有底层的 rpm 工具,但是其用的比较少<br>(毕竟 yum 能直接处理本地包)</p>
<h4 id="7-2-3-镜像源管理"><a href="#7-2-3-镜像源管理" class="headerlink" title="7.2.3 镜像源管理"></a>7.2.3 镜像源管理</h4><p>yum 的镜像源文件为/etc/yum.repos.d/CentOS-Base.repo<br>与 apt 类似,就不再写了(懒.jpg)<br>换国内源的办法可以自行搜索</p>
<p>yum 用的比较少,先写这么多,以后用到了再看</p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">遗世雨</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="http://yishiyu.github.io/2020/09/14/Linux%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0(%E4%B8%80)/">http://yishiyu.github.io/2020/09/14/Linux学习笔记(一)/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://yishiyu.github.io" target="_blank">bibibi的小站</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E5%B7%A5%E5%85%B7/">工具</a><a class="post-meta__tags" href="/tags/Linux/">Linux</a></div><div class="post_share"><div class="social-share" data-image="http://img.yishiyu.world/blogs/cover/post/20210208/003.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js" defer></script></div></div><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span> 相关推荐</span></div><div class="relatedPosts-list"><div><a href="/2020/09/14/Linux学习笔记(二)/" title="Linux学习笔记(二)"><img class="cover" src="http://img.yishiyu.world/blogs/cover/post/20210208/003.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2020-09-14</div><div class="title">Linux学习笔记(二)</div></div></a></div><div><a href="/2020/09/14/Linux学习笔记(四)/" title="Linux学习笔记(四)"><img class="cover" src="http://img.yishiyu.world/blogs/cover/post/20210208/003.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2020-09-14</div><div class="title">Linux学习笔记(四)</div></div></a></div><div><a href="/2020/09/20/ShellScript学习笔记/" title="ShellScript学习笔记"><img class="cover" src="http://img.yishiyu.world/blogs/cover/post/20210208/016.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2020-09-20</div><div class="title">ShellScript学习笔记</div></div></a></div><div><a href="/2020/09/14/Linux学习笔记(三)/" title="Linux学习笔记(三)"><img class="cover" src="http://img.yishiyu.world/blogs/cover/post/20210208/003.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2020-09-14</div><div class="title">Linux学习笔记(三)</div></div></a></div><div><a href="/2020/10/19/GNU工具链系列(三)/" title="GNU工具链系列(三)"><img class="cover" src="http://img.yishiyu.world/blogs/cover/post/20210208/002.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2020-10-19</div><div class="title">GNU工具链系列(三)</div></div></a></div><div><a href="/2020/07/29/Git学习笔记/" title="Git学习笔记"><img class="cover" src="http://img.yishiyu.world/blogs/cover/post/20210208/012.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2020-07-29</div><div class="title">Git学习笔记</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Linux-%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86"><span class="toc-text">Linux 基础知识</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E6%A6%82%E8%BF%B0"><span class="toc-text">1. 概述</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1-%E6%A6%82%E8%BF%B0"><span class="toc-text">1.1 概述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-2-Linux-%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84"><span class="toc-text">1.2 Linux 文件系统结构</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F"><span class="toc-text">2. 文件系统</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-%E6%96%87%E4%BB%B6%E6%9D%83%E9%99%90%E7%B3%BB%E7%BB%9F"><span class="toc-text">2.1 文件权限系统</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-%E6%96%87%E4%BB%B6%E7%AE%A1%E7%90%86%E5%91%BD%E4%BB%A4"><span class="toc-text">2.2 文件管理命令</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-1-%E6%99%AE%E9%80%9A%E7%AE%A1%E7%90%86%E5%91%BD%E4%BB%A4"><span class="toc-text">2.2.1 普通管理命令</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-2-%E6%9D%83%E9%99%90%E7%AE%A1%E7%90%86%E5%91%BD%E4%BB%A4"><span class="toc-text">2.2.2 权限管理命令</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-%E5%8E%8B%E7%BC%A9%E4%B8%8E%E8%A7%A3%E5%8E%8B%E7%BC%A9"><span class="toc-text">2.3 压缩与解压缩</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-1-%E6%A6%82%E8%BF%B0"><span class="toc-text">2.3.1 概述</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-2-gzip-%E6%A0%BC%E5%BC%8F"><span class="toc-text">2.3.2 gzip 格式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-3-zip-%E6%A0%BC%E5%BC%8F%E5%92%8C-rar-%E6%A0%BC%E5%BC%8F"><span class="toc-text">2.3.3 zip 格式和 rar 格式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-4-tar-%E6%A0%BC%E5%BC%8F"><span class="toc-text">2.3.4 tar 格式</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%B7%A5%E5%85%B7"><span class="toc-text">3. 命令行工具</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-%E6%98%BE%E7%A4%BA%E5%B7%A5%E5%85%B7"><span class="toc-text">3.1 显示工具</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-%E9%80%9A%E9%85%8D%E7%AC%A6"><span class="toc-text">3.2 通配符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-3-%E9%87%8D%E5%AE%9A%E5%90%91%E5%92%8C%E7%AE%A1%E9%81%93"><span class="toc-text">3.3 重定向和管道</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%87%8D%E5%AE%9A%E5%90%91"><span class="toc-text">重定向</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AE%A1%E9%81%93"><span class="toc-text">管道</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-4-%E6%8C%87%E4%BB%A4%E7%9A%84%E8%BF%9E%E7%BB%AD%E6%89%A7%E8%A1%8C"><span class="toc-text">3.4 指令的连续执行</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%86"><span class="toc-text">4. 进程管理</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-1-%E8%BF%9B%E7%A8%8B%E7%9A%84%E8%A7%82%E5%AF%9F"><span class="toc-text">4.1 进程的观察</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%9D%99%E6%80%81%E8%A7%82%E5%AF%9F"><span class="toc-text">静态观察</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8A%A8%E6%80%81%E8%A7%82%E5%AF%9F"><span class="toc-text">动态观察</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-2-%E8%BF%9B%E7%A8%8B%E7%9A%84%E7%AE%A1%E7%90%86"><span class="toc-text">4.2 进程的管理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-3-%E6%9C%8D%E5%8A%A1%E7%9A%84%E7%AE%A1%E7%90%86"><span class="toc-text">4.3 服务的管理</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86"><span class="toc-text">5. 网络管理</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#5-1-%E7%BD%91%E7%BB%9C%E5%9F%BA%E6%9C%AC%E5%91%BD%E4%BB%A4"><span class="toc-text">5.1 网络基本命令</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-2-%E7%BD%91%E7%BB%9C%E9%98%B2%E7%81%AB%E5%A2%99%E8%AE%BE%E7%BD%AE"><span class="toc-text">5.2 网络防火墙设置</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86"><span class="toc-text">6. 系统管理</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#6-1-%E8%B4%A6%E5%8F%B7%E7%AE%A1%E7%90%86"><span class="toc-text">6.1 账号管理</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%94%A8%E6%88%B7%E7%AE%A1%E7%90%86"><span class="toc-text">用户管理</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%BA%E6%96%B0%E7%94%A8%E6%88%B7%E6%B7%BB%E5%8A%A0-root-%E6%9D%83%E9%99%90"><span class="toc-text">为新用户添加 root 权限</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#su-%E5%92%8C-sudo-%E5%91%BD%E4%BB%A4"><span class="toc-text">su 和 sudo 命令</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BB%84%E7%AE%A1%E7%90%86"><span class="toc-text">组管理</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-2-%E8%B5%84%E6%BA%90%E7%AE%A1%E7%90%86"><span class="toc-text">6.2 资源管理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-3-SELinux"><span class="toc-text">6.3 SELinux</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-%E5%8C%85%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F-%E4%B8%BB-Debian-%E7%B3%BB"><span class="toc-text">7. 包管理系统(主 Debian 系)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#7-1-apt-%E4%BD%93%E7%B3%BB"><span class="toc-text">7.1 apt 体系</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#7-1-1-%E6%A6%82%E8%BF%B0"><span class="toc-text">7.1.1 概述</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#7-1-2-%E5%91%BD%E4%BB%A4%E6%80%BB%E7%BB%93"><span class="toc-text">7.1.2 命令总结</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#7-1-3-%E9%95%9C%E5%83%8F%E6%BA%90%E7%AE%A1%E7%90%86"><span class="toc-text">7.1.3 镜像源管理</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-2-yum-%E4%BD%93%E7%B3%BB"><span class="toc-text">7.2 yum 体系</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#7-2-1-%E6%A6%82%E8%BF%B0"><span class="toc-text">7.2.1 概述</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#7-2-2-%E5%91%BD%E4%BB%A4%E6%80%BB%E7%BB%93"><span class="toc-text">7.2.2 命令总结</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#7-2-3-%E9%95%9C%E5%83%8F%E6%BA%90%E7%AE%A1%E7%90%86"><span class="toc-text">7.2.3 镜像源管理</span></a></li></ol></li></ol></li></ol></li></ol></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2019 - 2021 By 遗世雨</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text"><a target="_blank" rel="noopener" href="http://www.beian.miit.gov.cn/"><img class="icp-icon" src="https://pic3.zhimg.com/80/v2-d0289dc0a46fc5b15b3363ffa78cf6c7.png"><span>陕ICP备20012321号</span></a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="font-plus" type="button" title="放大字体"><i class="fas fa-plus"></i></button><button id="font-minus" type="button" title="缩小字体"><i class="fas fa-minus"></i></button><button id="translateLink" type="button" title="简繁转换">简</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><script>var preloader = {
  endLoading: () => {
    document.body.style.overflow = 'auto';
    document.getElementById('loading-box').classList.add("loaded")
  },
  initLoading: () => {
    document.body.style.overflow = '';
    document.getElementById('loading-box').classList.remove("loaded")

  }
}
window.addEventListener('load',preloader.endLoading())</script><div class="js-pjax"></div><canvas class="fireworks" mobile="false"></canvas><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/fireworks.min.js"></script><script defer="defer" id="fluttering_ribbon" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/canvas-fluttering-ribbon.min.js"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>