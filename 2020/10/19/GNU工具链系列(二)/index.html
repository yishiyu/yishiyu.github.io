<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>GNU工具链系列(二) | bibibi的小站</title><meta name="keywords" content="工具,GNU 工具链"><meta name="author" content="遗世雨"><meta name="copyright" content="遗世雨"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="GCC 编译调试套装  概述 运行时库简介 Binutils 工具集 GCC C&#x2F;C++ 编译器 GDB 调试工具 IDE 环境">
<meta property="og:type" content="article">
<meta property="og:title" content="GNU工具链系列(二)">
<meta property="og:url" content="http://yishiyu.github.io/2020/10/19/GNU%E5%B7%A5%E5%85%B7%E9%93%BE%E7%B3%BB%E5%88%97(%E4%BA%8C)/index.html">
<meta property="og:site_name" content="bibibi的小站">
<meta property="og:description" content="GCC 编译调试套装  概述 运行时库简介 Binutils 工具集 GCC C&#x2F;C++ 编译器 GDB 调试工具 IDE 环境">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://img.yishiyu.world/blogs/cover/post/20210208/002.jpg">
<meta property="article:published_time" content="2020-10-19T07:13:48.000Z">
<meta property="article:modified_time" content="2021-02-09T03:12:44.052Z">
<meta property="article:author" content="遗世雨">
<meta property="article:tag" content="工具">
<meta property="article:tag" content="GNU 工具链">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://img.yishiyu.world/blogs/cover/post/20210208/002.jpg"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://yishiyu.github.io/2020/10/19/GNU%E5%B7%A5%E5%85%B7%E9%93%BE%E7%B3%BB%E5%88%97(%E4%BA%8C)/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//fonts.googleapis.com" crossorigin=""/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web&amp;display=swap" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁体","msgToSimplifiedChinese":"简体"},
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: true,
    post: true
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: {"limitCount":50,"languages":{"author":"作者: 遗世雨","link":"链接: ","source":"来源: bibibi的小站","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。"}},
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"你已切换为繁体","cht_to_chs":"你已切换为简体","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#49b1f5","bgDark":"#2d3035","position":"bottom-left"},
  source: {
    jQuery: 'https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js',
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
    },
    fancybox: {
      js: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js',
      css: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css'
    }
  },
  isPhotoFigcaption: true,
  islazyload: false,
  isanchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = { 
  isPost: true,
  isHome: false,
  isHighlightShrink: true,
  isToc: true,
  postUpdate: '2021-02-09 11:12:44'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const fontSizeVal = saveToLocal.get('global-font-size')
    if (fontSizeVal !== undefined) {
      document.documentElement.style.setProperty('--global-font-size', fontSizeVal + 'px')
    }
    })(window)</script><meta name="generator" content="Hexo 5.3.0"></head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">加载中...</div></div></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="author-avatar"><img class="avatar-img" src="/img/Hiki.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data"><div class="data-item is-center"><div class="data-item-link"><a href="/archives/"><div class="headline">文章</div><div class="length-num">31</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/tags/"><div class="headline">标签</div><div class="length-num">16</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/categories/"><div class="headline">分类</div><div class="length-num">5</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('http://img.yishiyu.world/blogs/cover/post/20210208/002.jpg')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">bibibi的小站</a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">GNU工具链系列(二)</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2020-10-19T07:13:48.000Z" title="发表于 2020-10-19 15:13:48">2020-10-19</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2021-02-09T03:12:44.052Z" title="更新于 2021-02-09 11:12:44">2021-02-09</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">学习笔记</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">3k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>10分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="GCC-编译调试套装"><a href="#GCC-编译调试套装" class="headerlink" title="GCC 编译调试套装"></a>GCC 编译调试套装</h1><blockquote>
<ol>
<li>概述</li>
<li>运行时库简介</li>
<li>Binutils 工具集</li>
<li>GCC C/C++ 编译器</li>
<li>GDB 调试工具</li>
<li>IDE 环境</li>
</ol>
</blockquote>
<a id="more"></a>
<h2 id="1-概述"><a href="#1-概述" class="headerlink" title="1. 概述"></a>1. 概述</h2><p>GCC 一般有两个解释(<strong>下文中除非特殊说明,GCC 指广义工具链集合</strong>):</p>
<ul>
<li>GNU Compiler Collection:GNU 编译工具链集合,能编译多种语言</li>
<li>GNU C Compiler:GNU C/C++ 编译器</li>
</ul>
<p>同时 GCC 还有 windows 版本:MinWG(Minimalist GNU for Windows)</p>
<p>接下来一共分为个部分总结:</p>
<blockquote>
<ol>
<li>运行时库简介</li>
<li>Binutils 工具集</li>
<li>GCC C/C++ 编译器</li>
<li>GNU Project Debugger 调试工具</li>
</ol>
</blockquote>
<h2 id="2-运行时库简介"><a href="#2-运行时库简介" class="headerlink" title="2. 运行时库简介"></a>2. 运行时库简介</h2><h3 id="2-1-关于库的基础知识"><a href="#2-1-关于库的基础知识" class="headerlink" title="2.1 关于库的基础知识"></a>2.1 关于库的基础知识</h3><p>众所周知,库文件有两种:</p>
<ul>
<li>静态链接库(.a,.lib):编译时链接</li>
<li>动态链接库(.so,.dll):运行时链接</li>
</ul>
<p>其中动态链接库也叫共享库,因为其在内存中只有一份副本,所有的程序共用这些函数</p>
<h3 id="2-2-C-C-标准库"><a href="#2-2-C-C-标准库" class="headerlink" title="2.2 C/C++标准库"></a>2.2 C/C++标准库</h3><p>参考链接:<a target="_blank" rel="noopener" href="https://blog.csdn.net/haibosdu/article/details/77094833">[理清 gcc、libc、libstdc++的关系 | 唐装鼠的博客 | CSDN]</a><br>该文标注了<a target="_blank" rel="noopener" href="http://www.chongh.wiki/blog/2016/05/25/lib-compile-link/">来源</a>,但是源网站似乎已经挂了…</p>
<p>C/C++标准一部分描述了语法定义,一部分定义了标准库的接口(但并没有实现)<br>而 GCC 库则是对标准中定义的库的实现</p>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">库文件</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">glibc</td>
<td style="text-align:left">GNU C 标准库,后成为 Linux 的标准 C 库(动态库)</td>
</tr>
<tr>
<td style="text-align:left">libstdc++</td>
<td style="text-align:left">GNU C++标准库,与 GCC 绑定安装</td>
</tr>
<tr>
<td style="text-align:left">eglibc</td>
<td style="text-align:left">一个面向嵌入式系统的 C 库</td>
</tr>
<tr>
<td style="text-align:left">newlib</td>
<td style="text-align:left">另一个面向嵌入式系统的 C 库</td>
</tr>
</tbody>
</table>
</div>
<ul>
<li>C 标准库与 Linux 操作系统高度绑定(Linux 自带 C 标准库)<br>C 标准库是 Linux 系统中最底层的 API,封装了很多系统调用<br>同时其也封装了一些上层应用函数的必要功能(如 string,malloc,signal 等)<br>最开始 Linux 使用的 C 标准库是 libc,后来用过 klibc,uclibc.现在使用最多的就是 glibc(Debian,Redhat 都是 glibc 及其变种)</li>
<li>C++标准库不与操作系统绑定(以下以 libstdc++举例)<br>libstdc++与 GCC 绑定(安装 GCC 时自动安装 libstdc++)<br>但是 libstdc++不与内核打交道,而是通过 glibc 调用内核功能</li>
</ul>
<h2 id="3-Binutils-工具集"><a href="#3-Binutils-工具集" class="headerlink" title="3. Binutils 工具集"></a>3. Binutils 工具集</h2><p>参考资料链接:<a target="_blank" rel="noopener" href="https://suda-morris.github.io/blog/cs/gcc_toolchains.html#binutils">[GCC 工具链基础 | suda-morris 个人博客]</a></p>
<p>Binutils 是一组二进制程序的处理工具:</p>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">工具</th>
<th style="text-align:left">作用</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">addr2line</td>
<td style="text-align:left">可以从程序地址得到源文件中对应的代码行,可以帮助调试器定位代码位置</td>
</tr>
<tr>
<td style="text-align:left">as</td>
<td style="text-align:left">汇编工具</td>
</tr>
<tr>
<td style="text-align:left">ld</td>
<td style="text-align:left">链接工具</td>
</tr>
<tr>
<td style="text-align:left">ar</td>
<td style="text-align:left">用于创建静态库</td>
</tr>
<tr>
<td style="text-align:left">ldd</td>
<td style="text-align:left">可以用于查看一个可执行程序依赖的共享库</td>
</tr>
<tr>
<td style="text-align:left">objcopy</td>
<td style="text-align:left">转换可执行文件的格式(如.bin 转换为.elf)</td>
</tr>
<tr>
<td style="text-align:left">objdump</td>
<td style="text-align:left">反汇编工具</td>
</tr>
<tr>
<td style="text-align:left">readelf</td>
<td style="text-align:left">elf 文件查看工具</td>
</tr>
<tr>
<td style="text-align:left">size</td>
<td style="text-align:left">列出可执行文件每个部分的尺寸和总尺寸,代码段,数据段,总大小等</td>
</tr>
</tbody>
</table>
</div>
<h2 id="4-GCC-C-C-编译器"><a href="#4-GCC-C-C-编译器" class="headerlink" title="4. GCC C/C++ 编译器"></a>4. GCC C/C++ 编译器</h2><p>参考资料链接:<a target="_blank" rel="noopener" href="https://suda-morris.github.io/blog/cs/gcc_toolchains.html#binutils">[GCC 工具链基础 | suda-morris 个人博客]</a></p>
<h3 id="4-1-GCC-编译选项"><a href="#4-1-GCC-编译选项" class="headerlink" title="4.1 GCC 编译选项"></a>4.1 GCC 编译选项</h3><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">参数</th>
<th style="text-align:left">功能</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">-o</td>
<td style="text-align:left">指定生成文件名</td>
</tr>
<tr>
<td style="text-align:left">-E</td>
<td style="text-align:left">生成.i 格式的预处理文件</td>
</tr>
<tr>
<td style="text-align:left">-S</td>
<td style="text-align:left">生成.s 格式的汇编文件</td>
</tr>
<tr>
<td style="text-align:left">-c</td>
<td style="text-align:left">生成.o 格式的中间文件</td>
</tr>
<tr>
<td style="text-align:left">-g</td>
<td style="text-align:left">生成必要的符号信息(调试时要用)</td>
</tr>
<tr>
<td style="text-align:left">-m32</td>
<td style="text-align:left">生成 32 位程序</td>
</tr>
<tr>
<td style="text-align:left">-I\<dir\></td>
<td style="text-align:left">添加头文件搜索目录</td>
</tr>
<tr>
<td style="text-align:left">-nostdinc</td>
<td style="text-align:left">不使用标准库</td>
</tr>
</tbody>
</table>
</div>
<h3 id="4-2-gcc-与-g-的异同"><a href="#4-2-gcc-与-g-的异同" class="headerlink" title="4.2 gcc 与 g++的异同"></a>4.2 gcc 与 g++的异同</h3><p>有一说一,国内各个博客网站瞎抄严重(csdn,博客园,知乎,甚至包括 github pages)<br>最后在 stackoverflow 上找到了一个比较靠谱的回答:<a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/172587/what-is-the-difference-between-g-and-gcc">[What is the difference between g++ and gcc? | stackoverflow]</a></p>
<ul>
<li>gcc 和 g++都是 GCC 的<strong>编译器驱动器</strong>,他们会根据具体的文件类型调用合适的编译器(可以使用-x language 显式指定语言)</li>
<li>gcc,g++最大的区别在于其自动链接的库不同</li>
<li><code>g++</code>完全相当于<code>gcc -xc++ -lstdc++ -shared-libgcc</code>(相关资料:<a target="_blank" rel="noopener" href="https://gcc.gnu.org/onlinedocs/gcc/Link-Options.html">link options</a>, <a target="_blank" rel="noopener" href="https://gcc.gnu.org/onlinedocs/gcc/Invoking-G_002b_002b.html">how g++ is invoked</a>,参考自最高赞,没有考证)</li>
<li>对于<code>.cpp</code>,二者都看做 c++文件,对于<code>.c</code>,g++看做 c++文件,gcc 看做 c 文件</li>
</ul>
<h2 id="5-GDB-调试工具"><a href="#5-GDB-调试工具" class="headerlink" title="5. GDB 调试工具"></a>5. GDB 调试工具</h2><p>参考资料:<br><a target="_blank" rel="noopener" href="https://www.yanbinghu.com/2019/04/20/41283.html">[GDB 调试指南 | 守望的个人博客]</a><br><a target="_blank" rel="noopener" href="https://linuxtools-rst.readthedocs.io/zh_CN/latest/tool/gdb.html">[gdb 调试利器 | Linux Tools Quick Tutorial]</a></p>
<p>GDB 全称 GNU Project Debugger,是一个开源调试器</p>
<h3 id="5-1-启动调试"><a href="#5-1-启动调试" class="headerlink" title="5.1 启动调试"></a>5.1 启动调试</h3><h4 id="5-1-1-准备被调试程序"><a href="#5-1-1-准备被调试程序" class="headerlink" title="5.1.1 准备被调试程序"></a>5.1.1 准备被调试程序</h4><p>GDB 调试会使用到程序的符号表,所有在编译的时候需要添加<code>-g</code>选项</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gcc -g hello.cpp -o hello</span><br></pre></td></tr></table></figure>
<h4 id="5-1-2-启动并调试一个程序"><a href="#5-1-2-启动并调试一个程序" class="headerlink" title="5.1.2 启动并调试一个程序"></a>5.1.2 启动并调试一个程序</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> gdb 直接跟被调试程序名(需要有符号表段)</span></span><br><span class="line">gdb hello</span><br><span class="line"><span class="meta">#</span><span class="bash"> 加载完之后,使用 run 接参数执行</span></span><br><span class="line">run args...</span><br></pre></td></tr></table></figure>
<h4 id="5-1-3-根据-core-文件调试"><a href="#5-1-3-根据-core-文件调试" class="headerlink" title="5.1.3 根据 core 文件调试"></a>5.1.3 根据 core 文件调试</h4><p>参考资料:<br><a target="_blank" rel="noopener" href="https://blog.csdn.net/wkd_007/article/details/79757289">[Linux 下 gdb 调试生成 core 文件并调试 core 文件 | wkd_007 的博客 | CSDN]</a><br><a target="_blank" rel="noopener" href="https://www.cnblogs.com/dongzhiquan/archive/2012/01/20/2328355.html">[Linux core 文件介绍 | dzqabc 的博客]</a></p>
<p>程序在崩溃的时候,Linux 系统会把其内存的数据和调试信息保存为一个 core 文件以备后续调试</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 使用该命令可以查看系统对core文件的大小设置</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 如果输出0则表示系统不生成任何core文件</span></span><br><span class="line">ulimit -c</span><br><span class="line"><span class="meta">#</span><span class="bash"> 可以手动设置允许生成core文件的大小上限</span></span><br><span class="line">ulimit -c [filesize]</span><br><span class="line"><span class="meta">#</span><span class="bash"> 以下命令设置core大小无上限(最常用选项)</span></span><br><span class="line">ulimit -c unlimited</span><br><span class="line"><span class="meta">#</span><span class="bash"> 以上命令在关机后自动失效,需要开机生效可以去搜搜(用的时候开启就行了,没必要开机设置)</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 使用如下命令可以查看core文件的存储路径</span></span><br><span class="line">cat /proc/sys/kernel/core_pattern</span><br><span class="line"><span class="meta">#</span><span class="bash"> 其中输出后的格式化字符中,特殊符号含义如下</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> %p - insert pid into filename</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> %u - insert current uid into filename</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> %g - insert current gid into filenamed</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> %s - insert signal that caused the coredump into the filename</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> %t - insert UNIX time that the coredump occurred into filename</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> %h - insert hostname <span class="built_in">where</span> the coredump happened into filename</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> %e - insert coredumping executable name into filename</span></span><br></pre></td></tr></table></figure>
<p>gdb 可以利用 core 文件进行调试</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 1. 直接调试core文件,然后通过查看堆栈来手动定位错误位置</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> (bt命令查看调用堆栈)</span></span><br><span class="line">gdb [exec file] [core file]</span><br><span class="line">bt</span><br><span class="line"><span class="meta">#</span><span class="bash"> 2. 先使用core载入gdb,然后指定源文件,再查看调用堆栈</span></span><br><span class="line">gdb -c [core file]</span><br><span class="line">file [exec file]</span><br><span class="line">bt</span><br></pre></td></tr></table></figure>
<h4 id="5-1-4-连接一个运行中的程序"><a href="#5-1-4-连接一个运行中的程序" class="headerlink" title="5.1.4 连接一个运行中的程序"></a>5.1.4 连接一个运行中的程序</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 以下命令如果出现如下错误提示</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Could not attach to process.  If your uid matches the uid of the target</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> process, check the setting of /proc/sys/kernel/yama/ptrace_scope, or try</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> again as the root user.  For more details, see /etc/sysctl.d/10-ptrace.conf</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> ptrace: Operation not permitted.</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 可以把/proc/sys/kernel/yama/ptrace_scope文件中的内容从1改为0</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 执行以下命令查看关于这个设置的细节</span></span><br><span class="line">cat /etc/sysctl.d/10-ptrace.conf</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 1. 直接输入gdb进入交互界面</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 使用attach命令连接目标进程</span></span><br><span class="line">gdb</span><br><span class="line">file [exec file]</span><br><span class="line">attach PID</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 2. 直接在阐述中指定pid</span></span><br><span class="line">gdb hello 20829</span><br><span class="line">gdb hello --pid 20829</span><br></pre></td></tr></table></figure>
<h3 id="5-2-GDB-命令"><a href="#5-2-GDB-命令" class="headerlink" title="5.2 GDB 命令"></a>5.2 GDB 命令</h3><h4 id="5-2-1-断点命令"><a href="#5-2-1-断点命令" class="headerlink" title="5.2.1 断点命令"></a>5.2.1 断点命令</h4><ol>
<li><p>查看断点信息</p>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">info breakpints</span><br></pre></td></tr></table></figure></li>
<li><p>设置断点</p>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"># 1. 设置普通断点(break命令可以简写为b)</span><br><span class="line">break [file:]函数名/行号</span><br><span class="line"></span><br><span class="line"># 2. 设置条件断点</span><br><span class="line">break [file:]函数名/行号 if &lt;expression&gt;</span><br><span class="line">#   可以使用condition修改条件断点行号(其中断点号属于断点信息)</span><br><span class="line">condition 断点号 &lt;expression&gt;</span><br><span class="line"></span><br><span class="line"># 3. 根据规则批量设置断点</span><br><span class="line">#   在所有函数头处设置断点</span><br><span class="line">rbreak [file:].</span><br><span class="line">#   在所有以print开头的函数头处设置断点</span><br><span class="line">rbreak [file:]^print</span><br><span class="line"></span><br><span class="line"># 4. 设置单次临时断点</span><br><span class="line">tbreak [file:]函数名/行号</span><br><span class="line"></span><br><span class="line"># 5. 跳过指定断点指定次数</span><br><span class="line">ignore 断点号 跳过次数</span><br><span class="line"></span><br><span class="line"># 6. 设置变量断点(变量变化时中断)</span><br><span class="line">watch 变量名</span><br></pre></td></tr></table></figure></li>
<li><p>开启/禁用断点</p>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># 如果没有指定断点号,则对所有断点生效</span><br><span class="line"># 如果在enable指令中添加了delete选项,在断点触发后删除该断点</span><br><span class="line">enable [delete] [断点号]</span><br><span class="line">disable [断点号]</span><br></pre></td></tr></table></figure></li>
<li><p>清除断点</p>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># 如果没有指定断点号,对所有断点生效(清除所有breakpoint)</span><br><span class="line">clear [file:]函数名/行号</span><br><span class="line"># 如果没有指定断点号,对所有断点生效(清除所有breakpoint,watchpoint,catchpoint)</span><br><span class="line">delete [断点号]</span><br></pre></td></tr></table></figure>
<h4 id="5-2-2-变量操作"><a href="#5-2-2-变量操作" class="headerlink" title="5.2.2 变量操作"></a>5.2.2 变量操作</h4></li>
<li><p>查看普通变量</p>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># print可以简写为p</span><br><span class="line"># 可以打印基本数值类型,数组,字符数组</span><br><span class="line">print [&#x27;filename&#x27;::]变量名</span><br></pre></td></tr></table></figure></li>
<li><p>打印指针目标内容</p>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"># 其中数量可以使一个数值型的变量</span><br><span class="line"># 格式符指定显示格式</span><br><span class="line"># x 按十六进制格式显示变量</span><br><span class="line"># d 按十进制格式显示变量</span><br><span class="line"># u 按十六进制格式显示无符号整型</span><br><span class="line"># o 按八进制格式显示变量</span><br><span class="line"># t 按二进制格式显示变量</span><br><span class="line"># a 按十六进制格式显示变量</span><br><span class="line"># c 按字符格式显示变量</span><br><span class="line"># f 按浮点数格式显示变量</span><br><span class="line">p[/格式符] [&#x27;filename&#x27;::]*指针名[@数量]</span><br><span class="line"></span><br><span class="line"># 可以使用特殊变量 $ 表示上一个变量</span><br><span class="line">(gdb) p *linkNode</span><br><span class="line">(这里显示linkNode节点内容)</span><br><span class="line">(gdb) p *$.next</span><br><span class="line">(这里显示linkNode节点下一个节点的内容)</span><br><span class="line"></span><br><span class="line"># 最后,还可以设置shell风格的变量来辅助操作</span><br><span class="line">(gdb) set $index=0</span><br><span class="line">(gdb) p b[$index++]</span><br><span class="line">(gdb) p b[$index++]</span><br></pre></td></tr></table></figure></li>
<li><p>显示内存操作</p>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># n 为要显示的内存单元数量</span><br><span class="line"># f 为显示格式,同变量查看格式符一致</span><br><span class="line"># u 为单元长度</span><br><span class="line">#   b 字节</span><br><span class="line">#   h 双字节</span><br><span class="line">#   w 四字节</span><br><span class="line">#   g 八字节</span><br><span class="line">x/[n][f][u] 内存地址</span><br></pre></td></tr></table></figure></li>
<li><p>监视变量(每次中断时显示)</p>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"># 设置监视变量</span><br><span class="line">display 变量名</span><br><span class="line"></span><br><span class="line"># 查看监视变量信息</span><br><span class="line">info display</span><br><span class="line"></span><br><span class="line"># 禁用/使能监视变量</span><br><span class="line">disable display 监视变量编号</span><br><span class="line">enable display 监视变量编号</span><br><span class="line"></span><br><span class="line"># 清除监视变量</span><br><span class="line">delete display 监视变量编号</span><br></pre></td></tr></table></figure></li>
<li><p>查看寄存器</p>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">info registers</span><br></pre></td></tr></table></figure>
<h4 id="5-2-3-调试指令"><a href="#5-2-3-调试指令" class="headerlink" title="5.2.3 调试指令"></a>5.2.3 调试指令</h4></li>
<li><p>单步调试</p>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># next可以简写为n</span><br><span class="line">next [步数]</span><br></pre></td></tr></table></figure></li>
<li><p>进入/退出函数</p>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"># 进入当前函数,step 可以简写为 s</span><br><span class="line"># 需要有这个函数的调试信息,否则会默认跳过(使用默认行为就好)</span><br><span class="line">step</span><br><span class="line"></span><br><span class="line"># 退出当前函数</span><br><span class="line">finish</span><br><span class="line"></span><br><span class="line"># 还有一个版本的step:stepi(执行一个机器指令),可以简写为si</span><br><span class="line">stepi</span><br></pre></td></tr></table></figure></li>
<li><p>执行到下一个中断点</p>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># 可以简写为 c ,可以设置忽略下几次中断</span><br><span class="line">continue [忽略断点次数]</span><br></pre></td></tr></table></figure></li>
<li><p>执行到指定位置</p>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># 可以忽略为u</span><br><span class="line"># 和临时断点基本一样</span><br><span class="line">until [目标行数]</span><br></pre></td></tr></table></figure></li>
<li><p>跳过执行</p>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"># 查看跳过设置信息</span><br><span class="line">info skip</span><br><span class="line"></span><br><span class="line"># 设置跳过</span><br><span class="line">skip [file filename|function funcname]</span><br><span class="line"></span><br><span class="line"># 禁用/使能/清除</span><br><span class="line">skip disable 跳过设置信息编号</span><br><span class="line">skip enable 跳过设置信息编号</span><br><span class="line">skip delete 跳过设置信息编号</span><br></pre></td></tr></table></figure>
<h4 id="5-2-4-查看源码"><a href="#5-2-4-查看源码" class="headerlink" title="5.2.4 查看源码"></a>5.2.4 查看源码</h4></li>
</ol>
<p>相关链接:<a target="_blank" rel="noopener" href="https://www.yanbinghu.com/2019/04/20/41283.html#%E6%96%AD%E7%82%B9%E8%AE%BE%E7%BD%AE">GDB 调试指南 | 守望的个人博客</a></p>
<p>查看源码,修改源码再用 GDB 可就太费劲了<br>vscode 加上插件不要太舒服哈哈哈哈(调试控制台可以使用上述的 GDB 操作)</p>
<h2 id="6-IDE-环境"><a href="#6-IDE-环境" class="headerlink" title="6. IDE 环境"></a>6. IDE 环境</h2><h3 id="6-1-vscode-套装"><a href="#6-1-vscode-套装" class="headerlink" title="6.1 vscode 套装"></a>6.1 vscode 套装</h3><p>vscode 本身配合插件可以当做一个极致精简的 IDE 来用(功能少但是非常轻便)<br>本来想单独写一个关于 vscode 的总结,但是需要写的东西也只有一个 launch.json 和一个 task.json<br>发现知乎上有一个很好的总结就直接省了哈哈哈哈<br>(一定要安装 Native Debug 插件,非常好用)</p>
<p>参考资料: <a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/92175757">[VScode tasks.json 和 launch.json 的设置 | 雾色 | 知乎]</a></p>
<h3 id="6-2-CLion"><a href="#6-2-CLion" class="headerlink" title="6.2 CLion"></a>6.2 CLion</h3><p>Clion 是一个 Jetbrains 家的 C/C++ IDE,跨平台,收费但是非常好用<br>网上的破解码感觉不太靠谱(虽然以前用的也是这个…),去淘宝搜了一圈感觉也不太靠谱<br>最后决定可以先认证一个 Github 的学生包(有 jetbrains 家 ide 的学生认证),以后有钱再搞正版</p>
<p>首先申请 Github 学生包,如果账号里有学校邮箱,两分钟就申请好了:<br><a target="_blank" rel="noopener" href="https://docs.github.com/cn/free-pro-team@latest/github/teaching-and-learning-with-github-education/applying-for-a-student-developer-pack">[Github 学生包申请 | Github Docs]</a><br>然后去 Jetbrains 家注册账号,绑定 Github 学生包(或者自己搜一个教程):<br><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_44820183/article/details/106517921">[Jetbrains 学生认证 | CSDN]</a></p>
<p>Clion 的构建系统也是基于 Cmake 的,下一篇就学 Cmake</p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">遗世雨</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="http://yishiyu.github.io/2020/10/19/GNU%E5%B7%A5%E5%85%B7%E9%93%BE%E7%B3%BB%E5%88%97(%E4%BA%8C)/">http://yishiyu.github.io/2020/10/19/GNU工具链系列(二)/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://yishiyu.github.io" target="_blank">bibibi的小站</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E5%B7%A5%E5%85%B7/">工具</a><a class="post-meta__tags" href="/tags/GNU-%E5%B7%A5%E5%85%B7%E9%93%BE/">GNU 工具链</a></div><div class="post_share"><div class="social-share" data-image="http://img.yishiyu.world/blogs/cover/post/20210208/002.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js" defer></script></div></div><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span> 相关推荐</span></div><div class="relatedPosts-list"><div><a href="/2020/10/19/GNU工具链系列(一)/" title="GNU工具链系列(一)"><img class="cover" src="http://img.yishiyu.world/blogs/cover/post/20210208/002.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2020-10-19</div><div class="title">GNU工具链系列(一)</div></div></a></div><div><a href="/2020/10/19/GNU工具链系列(三)/" title="GNU工具链系列(三)"><img class="cover" src="http://img.yishiyu.world/blogs/cover/post/20210208/002.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2020-10-19</div><div class="title">GNU工具链系列(三)</div></div></a></div><div><a href="/2020/07/29/Git学习笔记/" title="Git学习笔记"><img class="cover" src="http://img.yishiyu.world/blogs/cover/post/20210208/012.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2020-07-29</div><div class="title">Git学习笔记</div></div></a></div><div><a href="/2020/09/14/Linux学习笔记(三)/" title="Linux学习笔记(三)"><img class="cover" src="http://img.yishiyu.world/blogs/cover/post/20210208/003.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2020-09-14</div><div class="title">Linux学习笔记(三)</div></div></a></div><div><a href="/2020/09/14/Linux学习笔记(二)/" title="Linux学习笔记(二)"><img class="cover" src="http://img.yishiyu.world/blogs/cover/post/20210208/003.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2020-09-14</div><div class="title">Linux学习笔记(二)</div></div></a></div><div><a href="/2020/09/14/Linux学习笔记(四)/" title="Linux学习笔记(四)"><img class="cover" src="http://img.yishiyu.world/blogs/cover/post/20210208/003.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2020-09-14</div><div class="title">Linux学习笔记(四)</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#GCC-%E7%BC%96%E8%AF%91%E8%B0%83%E8%AF%95%E5%A5%97%E8%A3%85"><span class="toc-text">GCC 编译调试套装</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E6%A6%82%E8%BF%B0"><span class="toc-text">1. 概述</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E8%BF%90%E8%A1%8C%E6%97%B6%E5%BA%93%E7%AE%80%E4%BB%8B"><span class="toc-text">2. 运行时库简介</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-%E5%85%B3%E4%BA%8E%E5%BA%93%E7%9A%84%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86"><span class="toc-text">2.1 关于库的基础知识</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-C-C-%E6%A0%87%E5%87%86%E5%BA%93"><span class="toc-text">2.2 C&#x2F;C++标准库</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-Binutils-%E5%B7%A5%E5%85%B7%E9%9B%86"><span class="toc-text">3. Binutils 工具集</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-GCC-C-C-%E7%BC%96%E8%AF%91%E5%99%A8"><span class="toc-text">4. GCC C&#x2F;C++ 编译器</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-1-GCC-%E7%BC%96%E8%AF%91%E9%80%89%E9%A1%B9"><span class="toc-text">4.1 GCC 编译选项</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-2-gcc-%E4%B8%8E-g-%E7%9A%84%E5%BC%82%E5%90%8C"><span class="toc-text">4.2 gcc 与 g++的异同</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-GDB-%E8%B0%83%E8%AF%95%E5%B7%A5%E5%85%B7"><span class="toc-text">5. GDB 调试工具</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#5-1-%E5%90%AF%E5%8A%A8%E8%B0%83%E8%AF%95"><span class="toc-text">5.1 启动调试</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#5-1-1-%E5%87%86%E5%A4%87%E8%A2%AB%E8%B0%83%E8%AF%95%E7%A8%8B%E5%BA%8F"><span class="toc-text">5.1.1 准备被调试程序</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-1-2-%E5%90%AF%E5%8A%A8%E5%B9%B6%E8%B0%83%E8%AF%95%E4%B8%80%E4%B8%AA%E7%A8%8B%E5%BA%8F"><span class="toc-text">5.1.2 启动并调试一个程序</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-1-3-%E6%A0%B9%E6%8D%AE-core-%E6%96%87%E4%BB%B6%E8%B0%83%E8%AF%95"><span class="toc-text">5.1.3 根据 core 文件调试</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-1-4-%E8%BF%9E%E6%8E%A5%E4%B8%80%E4%B8%AA%E8%BF%90%E8%A1%8C%E4%B8%AD%E7%9A%84%E7%A8%8B%E5%BA%8F"><span class="toc-text">5.1.4 连接一个运行中的程序</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-2-GDB-%E5%91%BD%E4%BB%A4"><span class="toc-text">5.2 GDB 命令</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#5-2-1-%E6%96%AD%E7%82%B9%E5%91%BD%E4%BB%A4"><span class="toc-text">5.2.1 断点命令</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-2-2-%E5%8F%98%E9%87%8F%E6%93%8D%E4%BD%9C"><span class="toc-text">5.2.2 变量操作</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-2-3-%E8%B0%83%E8%AF%95%E6%8C%87%E4%BB%A4"><span class="toc-text">5.2.3 调试指令</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-2-4-%E6%9F%A5%E7%9C%8B%E6%BA%90%E7%A0%81"><span class="toc-text">5.2.4 查看源码</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-IDE-%E7%8E%AF%E5%A2%83"><span class="toc-text">6. IDE 环境</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#6-1-vscode-%E5%A5%97%E8%A3%85"><span class="toc-text">6.1 vscode 套装</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-2-CLion"><span class="toc-text">6.2 CLion</span></a></li></ol></li></ol></li></ol></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2019 - 2021 By 遗世雨</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text"><a target="_blank" rel="noopener" href="http://www.beian.miit.gov.cn/"><img class="icp-icon" src="https://pic3.zhimg.com/80/v2-d0289dc0a46fc5b15b3363ffa78cf6c7.png"><span>陕ICP备20012321号</span></a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="font-plus" type="button" title="放大字体"><i class="fas fa-plus"></i></button><button id="font-minus" type="button" title="缩小字体"><i class="fas fa-minus"></i></button><button id="translateLink" type="button" title="简繁转换">简</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><script>var preloader = {
  endLoading: () => {
    document.body.style.overflow = 'auto';
    document.getElementById('loading-box').classList.add("loaded")
  },
  initLoading: () => {
    document.body.style.overflow = '';
    document.getElementById('loading-box').classList.remove("loaded")

  }
}
window.addEventListener('load',preloader.endLoading())</script><div class="js-pjax"></div><canvas class="fireworks" mobile="false"></canvas><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/fireworks.min.js"></script><script defer="defer" id="fluttering_ribbon" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/canvas-fluttering-ribbon.min.js"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>